<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributing to emburden • emburden</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Contributing to emburden"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">emburden</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/methodology.html">Methodology</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="articles/jss-emburden.html">JSS Package Manuscript</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ericscheier/emburden"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contributing to emburden</h1>
      <small class="dont-index">Source: <a href="https://github.com/ericscheier/emburden/blob/main/CONTRIBUTING.md" class="external-link"><code>CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributing-to-emburden" class="section level1">

<p>Thank you for your interest in contributing to <strong>emburden</strong>! This package provides tools for analyzing household energy burden using the Net Energy Return (Nh) methodology.</p>
<div class="section level2">
<h2 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a></h2>
<ul><li><a href="#code-of-conduct">Code of Conduct</a></li>
<li><a href="#how-can-i-contribute">How Can I Contribute?</a></li>
<li><a href="#development-setup">Development Setup</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#code-style">Code Style</a></li>
<li><a href="#pull-request-process">Pull Request Process</a></li>
<li><a href="#reporting-bugs">Reporting Bugs</a></li>
<li><a href="#suggesting-enhancements">Suggesting Enhancements</a></li>
</ul></div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a></h2>
<p>This project adheres to a Code of Conduct (see CODE_OF_CONDUCT.md). By participating, you are expected to uphold this code. Please report unacceptable behavior to <a href="mailto:eric.scheier@gmail.com" class="email">eric.scheier@gmail.com</a>.</p>
</div>
<div class="section level2">
<h2 id="how-can-i-contribute">How Can I Contribute?<a class="anchor" aria-label="anchor" href="#how-can-i-contribute"></a></h2>
<div class="section level3">
<h3 id="reporting-bugs">Reporting Bugs<a class="anchor" aria-label="anchor" href="#reporting-bugs"></a></h3>
<p>Before creating bug reports, please check the <a href="https://github.com/ericscheier/emburden/issues" class="external-link">issue tracker</a> to avoid duplicates. When you create a bug report, include as many details as possible:</p>
<ul><li><strong>Use a clear and descriptive title</strong></li>
<li><strong>Describe the exact steps to reproduce the problem</strong></li>
<li><strong>Provide specific examples to demonstrate the steps</strong></li>
<li><strong>Describe the behavior you observed and what you expected</strong></li>
<li><strong>Include your R version and sessionInfo() output</strong></li>
</ul><p>Example bug report:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Minimal reproducible example</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ericscheier/emburden" class="external-link">emburden</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Code that produces the bug</span></span>
<span><span class="va">income</span> <span class="op">&lt;-</span> <span class="fl">50000</span></span>
<span><span class="va">spending</span> <span class="op">&lt;-</span> <span class="fl">3000</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span></span>
<span><span class="co"># Expected: 15.67, Got: [incorrect value]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="suggesting-enhancements">Suggesting Enhancements<a class="anchor" aria-label="anchor" href="#suggesting-enhancements"></a></h3>
<p>Enhancement suggestions are tracked as <a href="https://github.com/ericscheier/emburden/issues" class="external-link">GitHub issues</a>. When creating an enhancement suggestion:</p>
<ul><li><strong>Use a clear and descriptive title</strong></li>
<li><strong>Provide a step-by-step description of the suggested enhancement</strong></li>
<li><strong>Explain why this enhancement would be useful</strong></li>
<li><strong>List some other packages where this enhancement exists, if applicable</strong></li>
</ul></div>
<div class="section level3">
<h3 id="contributing-code">Contributing Code<a class="anchor" aria-label="anchor" href="#contributing-code"></a></h3>
<p>We welcome pull requests! Here’s how to get started:</p>
</div>
</div>
<div class="section level2">
<h2 id="development-setup">Development Setup<a class="anchor" aria-label="anchor" href="#development-setup"></a></h2>
<div class="section level3">
<h3 id="id_1-fork-and-clone-the-repository">1. Fork and Clone the Repository<a class="anchor" aria-label="anchor" href="#id_1-fork-and-clone-the-repository"></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Fork the repository on GitHub, then clone your fork</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/YOUR-USERNAME/emburden.git</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="bu">cd</span> emburden</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># Add the upstream repository</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">git</span> remote add upstream https://github.com/ericscheier/emburden.git</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-install-r-and-dependencies">2. Install R and Dependencies<a class="anchor" aria-label="anchor" href="#id_2-install-r-and-dependencies"></a></h3>
<p>Ensure you have R &gt;= 4.0.0 installed. Then install the development dependencies:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools if you don't have it</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install package dependencies</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_deps</span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install suggested packages for development</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"testthat"</span>, <span class="st">"knitr"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"covr"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_3-load-the-package-for-development">3. Load the Package for Development<a class="anchor" aria-label="anchor" href="#id_3-load-the-package-for-development"></a></h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load all package functions into your R session</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">load_all</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use this shortcut in RStudio: Ctrl+Shift+L (Cmd+Shift+L on Mac)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-create-a-new-branch">4. Create a New Branch<a class="anchor" aria-label="anchor" href="#id_4-create-a-new-branch"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Create a branch for your feature or bug fix</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> feature/your-feature-name</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># Or for bug fixes:</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> fix/issue-description</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h2>
<p>This package uses <code>testthat</code> for testing. <strong>All contributions should include tests.</strong></p>
<div class="section level3">
<h3 id="running-tests">Running Tests<a class="anchor" aria-label="anchor" href="#running-tests"></a></h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use RStudio shortcut: Ctrl+Shift+T (Cmd+Shift+T on Mac)</span></span>
<span></span>
<span><span class="co"># Run specific test file</span></span>
<span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_file.html" class="external-link">test_file</a></span><span class="op">(</span><span class="st">"tests/testthat/test-metrics.R"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run tests with coverage</span></span>
<span><span class="fu">covr</span><span class="fu">::</span><span class="fu"><a href="http://covr.r-lib.org/reference/package_coverage.html" class="external-link">package_coverage</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="writing-tests">Writing Tests<a class="anchor" aria-label="anchor" href="#writing-tests"></a></h3>
<p>Tests should be placed in <code>tests/testthat/</code> with filenames starting with <code>test-</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># tests/testthat/test-new-feature.R</span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"ner_func calculates net energy return correctly"</span>, <span class="op">{</span></span>
<span>  <span class="co"># Basic test</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">3000</span><span class="op">)</span>, <span class="fl">15.67</span>, tolerance <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Edge cases</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="op">-</span><span class="fl">50000</span>, <span class="fl">3000</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Negative income</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="fl">50000</span>, <span class="op">-</span><span class="fl">3000</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Negative spending</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>      <span class="co"># Zero spending</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"neb_func gives same result as energy_burden_func"</span>, <span class="op">{</span></span>
<span>  <span class="va">income</span> <span class="op">&lt;-</span> <span class="fl">50000</span></span>
<span>  <span class="va">spending</span> <span class="op">&lt;-</span> <span class="fl">3000</span></span>
<span></span>
<span>  <span class="va">eb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/energy_burden_func.html">energy_burden_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span></span>
<span>  <span class="va">neb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/neb_func.html">neb_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">eb</span>, <span class="va">neb</span>, tolerance <span class="op">=</span> <span class="fl">1e-10</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="test-coverage-goals">Test Coverage Goals<a class="anchor" aria-label="anchor" href="#test-coverage-goals"></a></h3>
<ul><li>Aim for &gt;80% code coverage</li>
<li>All exported functions must have tests</li>
<li>Test edge cases and error conditions</li>
<li>Test that aggregation methods produce correct results</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h2>
<div class="section level3">
<h3 id="roxygen2-documentation">Roxygen2 Documentation<a class="anchor" aria-label="anchor" href="#roxygen2-documentation"></a></h3>
<p>All exported functions must have roxygen2 documentation:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Calculate Net Energy Return (Nh)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' Computes the Net Energy Return, which is the ratio of net income</span></span>
<span><span class="co">#' (after energy spending) to energy spending.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param gross_income Numeric. Household gross income in dollars.</span></span>
<span><span class="co">#' @param energy_spending Numeric. Total household energy spending in dollars.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return Numeric. The Net Energy Return (Nh) value.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @details</span></span>
<span><span class="co">#' Net Energy Return is calculated as:</span></span>
<span><span class="co">#' \deqn{Nh = \frac{G - S}{S}}</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' Where G is gross income and S is energy spending.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' # Household with $50,000 income and $3,000 energy spending</span></span>
<span><span class="co">#' ner_func(50000, 3000)</span></span>
<span><span class="co">#' #&gt; [1] 15.67</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ner_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">gross_income</span>, <span class="va">energy_spending</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Function implementation</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-documentation">Building Documentation<a class="anchor" aria-label="anchor" href="#building-documentation"></a></h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate documentation from roxygen2 comments</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">document</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use RStudio shortcut: Ctrl+Shift+D (Cmd+Shift+D on Mac)</span></span>
<span></span>
<span><span class="co"># Preview documentation</span></span>
<span><span class="op">?</span><span class="va">ner_func</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a></h3>
<p>For substantial new features, consider adding a vignette:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new vignette</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_vignette</span><span class="op">(</span><span class="st">"new-feature-name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build vignettes</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">build_vignettes</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Preview vignette</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/browseVignettes.html" class="external-link">browseVignettes</a></span><span class="op">(</span><span class="st">"emburden"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="code-style">Code Style<a class="anchor" aria-label="anchor" href="#code-style"></a></h2>
<p>We follow the <a href="https://style.tidyverse.org/" class="external-link">tidyverse style guide</a>. Key points:</p>
<div class="section level3">
<h3 id="naming-conventions">Naming Conventions<a class="anchor" aria-label="anchor" href="#naming-conventions"></a></h3>
<ul><li>
<strong>Functions</strong>: <code>snake_case</code> (e.g., <code>calculate_weighted_metrics</code>)</li>
<li>
<strong>Variables</strong>: <code>snake_case</code> (e.g., <code>gross_income</code>)</li>
<li>
<strong>Constants</strong>: <code>SCREAMING_SNAKE_CASE</code> (e.g., <code>DEFAULT_THRESHOLD</code>)</li>
</ul></div>
<div class="section level3">
<h3 id="spacing-and-formatting">Spacing and Formatting<a class="anchor" aria-label="anchor" href="#spacing-and-formatting"></a></h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Bad</span></span>
<span><span class="va">result</span><span class="op">&lt;-</span><span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span> <span class="va">income</span>,<span class="va">spending</span> <span class="op">)</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="va">x</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">y</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pipe-operator">Pipe Operator<a class="anchor" aria-label="anchor" href="#pipe-operator"></a></h3>
<p>Use the native pipe <code>|&gt;</code> (R &gt;= 4.1.0) or magrittr pipe <code>%&gt;%</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">income</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>nh <span class="op">=</span> <span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Also acceptable</span></span>
<span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">income</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>nh <span class="op">=</span> <span class="fu"><a href="reference/ner_func.html">ner_func</a></span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="code-checking">Code Checking<a class="anchor" aria-label="anchor" href="#code-checking"></a></h3>
<p>Before submitting, ensure your code passes R CMD check:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run R CMD check</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Should show: 0 errors ✓ | 0 warnings ✓ | 0 notes ✓</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="pull-request-process">Pull Request Process<a class="anchor" aria-label="anchor" href="#pull-request-process"></a></h2>
<div class="section level3">
<h3 id="id_1-update-your-branch">1. Update Your Branch<a class="anchor" aria-label="anchor" href="#id_1-update-your-branch"></a></h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Fetch latest changes from upstream</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">git</span> fetch upstream</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co"># Merge upstream main into your branch</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="fu">git</span> merge upstream/main</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-run-final-checks">2. Run Final Checks<a class="anchor" aria-label="anchor" href="#id_2-run-final-checks"></a></h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run R CMD check</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check code style</span></span>
<span><span class="fu">styler</span><span class="fu">::</span><span class="fu">style_pkg</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">lintr</span><span class="fu">::</span><span class="fu">lint_package</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_3-commit-your-changes">3. Commit Your Changes<a class="anchor" aria-label="anchor" href="#id_3-commit-your-changes"></a></h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Stage your changes</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co"># Commit with a descriptive message</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add feature: brief description</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="st">- Detailed point 1</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="st">- Detailed point 2</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="st">- Fixes #123"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-push-to-your-fork">4. Push to Your Fork<a class="anchor" aria-label="anchor" href="#id_4-push-to-your-fork"></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">git</span> push origin feature/your-feature-name</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_5-create-pull-request">5. Create Pull Request<a class="anchor" aria-label="anchor" href="#id_5-create-pull-request"></a></h3>
<ol style="list-style-type: decimal"><li>Go to <a href="https://github.com/ericscheier/emburden" class="external-link uri">https://github.com/ericscheier/emburden</a>
</li>
<li>Click “New Pull Request”</li>
<li>Select your fork and branch</li>
<li>Fill out the PR template:
<ul><li>
<strong>Title</strong>: Clear, concise description</li>
<li>
<strong>Description</strong>: What changes were made and why</li>
<li>
<strong>Related Issues</strong>: Link to relevant issues</li>
<li>
<strong>Testing</strong>: Describe how you tested the changes</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="pr-checklist">PR Checklist<a class="anchor" aria-label="anchor" href="#pr-checklist"></a></h3>
<p>Before submitting, ensure:</p>
<ul class="task-list"><li><label><input type="checkbox">Code follows the tidyverse style guide</label></li>
<li><label><input type="checkbox">All tests pass (<code>devtools::test()</code>)</label></li>
<li><label><input type="checkbox">R CMD check passes with 0 errors, 0 warnings (<code>devtools::check()</code>)</label></li>
<li><label><input type="checkbox">New functions have roxygen2 documentation</label></li>
<li><label><input type="checkbox">New functions have tests with good coverage</label></li>
<li><label><input type="checkbox">NEWS.md updated (for significant changes)</label></li>
<li><label><input type="checkbox">Vignettes updated (if applicable)</label></li>
</ul></div>
<div class="section level3">
<h3 id="review-process">Review Process<a class="anchor" aria-label="anchor" href="#review-process"></a></h3>
<ul><li>Maintainers will review your PR within 1-2 weeks</li>
<li>You may be asked to make changes</li>
<li>Once approved, a maintainer will merge your PR</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="development-workflow-example">Development Workflow Example<a class="anchor" aria-label="anchor" href="#development-workflow-example"></a></h2>
<p>Here’s a complete workflow for adding a new feature:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Create branch</span></span>
<span><span class="co"># (done in terminal: git checkout -b feature/new-metric)</span></span>
<span></span>
<span><span class="co"># 2. Write the function</span></span>
<span><span class="co"># R/new_metric.R</span></span>
<span></span>
<span><span class="co">#' Calculate New Energy Metric</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param income Numeric. Gross income</span></span>
<span><span class="co">#' @param spending Numeric. Energy spending</span></span>
<span><span class="co">#' @return Numeric. New metric value</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">new_metric_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">income</span>, <span class="va">spending</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">income</span> <span class="op">&lt;=</span> <span class="fl">0</span> <span class="op">||</span> <span class="va">spending</span> <span class="op">&lt;=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Income and spending must be positive"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="co"># Your calculation here</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">income</span> <span class="op">-</span> <span class="va">spending</span><span class="op">)</span> <span class="op">/</span> <span class="va">income</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># 3. Load and test interactively</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">load_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">new_metric_func</span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">3000</span><span class="op">)</span>  <span class="co"># Should work</span></span>
<span></span>
<span><span class="co"># 4. Write tests</span></span>
<span><span class="co"># tests/testthat/test-new-metric.R</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"new_metric_func works correctly"</span>, <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu">new_metric_func</span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">3000</span><span class="op">)</span>, <span class="fl">0.94</span><span class="op">)</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu">new_metric_func</span><span class="op">(</span><span class="op">-</span><span class="fl">50000</span>, <span class="fl">3000</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu">new_metric_func</span><span class="op">(</span><span class="fl">50000</span>, <span class="op">-</span><span class="fl">3000</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. Generate documentation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">document</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 6. Run all checks</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span>    <span class="co"># All tests pass</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span>   <span class="co"># 0 errors, 0 warnings</span></span>
<span></span>
<span><span class="co"># 7. Commit and push</span></span>
<span><span class="co"># (done in terminal)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a></h2>
<ul><li>
<strong>Documentation</strong>: <a href="https://ericscheier.github.io/emburden/" class="uri">https://ericscheier.github.io/emburden/</a>
</li>
<li>
<strong>Issues</strong>: <a href="https://github.com/ericscheier/emburden/issues" class="external-link uri">https://github.com/ericscheier/emburden/issues</a>
</li>
<li>
<strong>Email</strong>: <a href="mailto:eric.scheier@gmail.com" class="email">eric.scheier@gmail.com</a>
</li>
<li>
<strong>Discussions</strong>: Use GitHub Discussions for questions</li>
</ul></div>
<div class="section level2">
<h2 id="recognition">Recognition<a class="anchor" aria-label="anchor" href="#recognition"></a></h2>
<p>Contributors will be acknowledged in: - The package DESCRIPTION file (for significant contributions) - The AUTHORS file - Release notes in NEWS.md</p>
<p>Thank you for contributing to emburden!</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Scheier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

