[{"path":[]},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Using welcoming inclusive language patient new contributors learning R programming Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others‚Äô private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement eric.scheier@gmail.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://ericscheier.github.io/emburden/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla‚Äôs code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to emburden","title":"Contributing to emburden","text":"Thank interest contributing emburden! package provides tools analyzing household energy burden using Net Energy Return (Nh) methodology.","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"table-of-contents","dir":"","previous_headings":"","what":"Table of Contents","title":"Contributing to emburden","text":"Code Conduct Can Contribute? Development Setup Testing Documentation Code Style Pull Request Process Reporting Bugs Suggesting Enhancements","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to emburden","text":"project adheres Code Conduct (see CODE_OF_CONDUCT.md). participating, expected uphold code. Please report unacceptable behavior eric.scheier@gmail.com.","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"reporting-bugs","dir":"","previous_headings":"How Can I Contribute?","what":"Reporting Bugs","title":"Contributing to emburden","text":"creating bug reports, please check issue tracker avoid duplicates. create bug report, include many details possible: Use clear descriptive title Describe exact steps reproduce problem Provide specific examples demonstrate steps Describe behavior observed expected Include R version sessionInfo() output Example bug report:","code":"# Minimal reproducible example library(emburden) sessionInfo()  # Code that produces the bug income <- 50000 spending <- 3000 result <- ner_func(income, spending) # Expected: 15.67, Got: [incorrect value]"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"suggesting-enhancements","dir":"","previous_headings":"How Can I Contribute?","what":"Suggesting Enhancements","title":"Contributing to emburden","text":"Enhancement suggestions tracked GitHub issues. creating enhancement suggestion: Use clear descriptive title Provide step--step description suggested enhancement Explain enhancement useful List packages enhancement exists, applicable","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"contributing-code","dir":"","previous_headings":"How Can I Contribute?","what":"Contributing Code","title":"Contributing to emburden","text":"welcome pull requests! ‚Äôs get started:","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_1-fork-and-clone-the-repository","dir":"","previous_headings":"Development Setup","what":"1. Fork and Clone the Repository","title":"Contributing to emburden","text":"","code":"# Fork the repository on GitHub, then clone your fork git clone https://github.com/YOUR-USERNAME/emburden.git cd emburden  # Add the upstream repository git remote add upstream https://github.com/ericscheier/emburden.git"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_2-install-r-and-dependencies","dir":"","previous_headings":"Development Setup","what":"2. Install R and Dependencies","title":"Contributing to emburden","text":"Ensure R >= 4.0.0 installed. install development dependencies:","code":"# Install devtools if you don't have it install.packages(\"devtools\")  # Install package dependencies devtools::install_deps(dependencies = TRUE)  # Install suggested packages for development install.packages(c(\"testthat\", \"knitr\", \"rmarkdown\", \"covr\"))"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_3-load-the-package-for-development","dir":"","previous_headings":"Development Setup","what":"3. Load the Package for Development","title":"Contributing to emburden","text":"","code":"# Load all package functions into your R session devtools::load_all()  # Or use this shortcut in RStudio: Ctrl+Shift+L (Cmd+Shift+L on Mac)"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_4-create-a-new-branch","dir":"","previous_headings":"Development Setup","what":"4. Create a New Branch","title":"Contributing to emburden","text":"","code":"# Create a branch for your feature or bug fix git checkout -b feature/your-feature-name  # Or for bug fixes: git checkout -b fix/issue-description"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Contributing to emburden","text":"package uses testthat testing. contributions include tests.","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"running-tests","dir":"","previous_headings":"Testing","what":"Running Tests","title":"Contributing to emburden","text":"","code":"# Run all tests devtools::test()  # Or use RStudio shortcut: Ctrl+Shift+T (Cmd+Shift+T on Mac)  # Run specific test file testthat::test_file(\"tests/testthat/test-metrics.R\")  # Run tests with coverage covr::package_coverage()"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"writing-tests","dir":"","previous_headings":"Testing","what":"Writing Tests","title":"Contributing to emburden","text":"Tests placed tests/testthat/ filenames starting test-:","code":"# tests/testthat/test-new-feature.R test_that(\"ner_func calculates net energy return correctly\", {   # Basic test   expect_equal(ner_func(50000, 3000), 15.67, tolerance = 0.01)    # Edge cases   expect_error(ner_func(-50000, 3000))  # Negative income   expect_error(ner_func(50000, -3000))  # Negative spending   expect_error(ner_func(50000, 0))      # Zero spending })  test_that(\"neb_func gives same result as energy_burden_func\", {   income <- 50000   spending <- 3000    eb <- energy_burden_func(income, spending)   neb <- neb_func(income, spending)    expect_equal(eb, neb, tolerance = 1e-10) })"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"test-coverage-goals","dir":"","previous_headings":"Testing","what":"Test Coverage Goals","title":"Contributing to emburden","text":"Aim >80% code coverage exported functions must tests Test edge cases error conditions Test aggregation methods produce correct results","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"roxygen2-documentation","dir":"","previous_headings":"Documentation","what":"Roxygen2 Documentation","title":"Contributing to emburden","text":"exported functions must roxygen2 documentation:","code":"#' Calculate Net Energy Return (Nh) #' #' Computes the Net Energy Return, which is the ratio of net income #' (after energy spending) to energy spending. #' #' @param gross_income Numeric. Household gross income in dollars. #' @param energy_spending Numeric. Total household energy spending in dollars. #' #' @return Numeric. The Net Energy Return (Nh) value. #' #' @details #' Net Energy Return is calculated as: #' \\deqn{Nh = \\frac{G - S}{S}} #' #' Where G is gross income and S is energy spending. #' #' @examples #' # Household with $50,000 income and $3,000 energy spending #' ner_func(50000, 3000) #' #> [1] 15.67 #' #' @export ner_func <- function(gross_income, energy_spending) {   # Function implementation }"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"building-documentation","dir":"","previous_headings":"Documentation","what":"Building Documentation","title":"Contributing to emburden","text":"","code":"# Generate documentation from roxygen2 comments devtools::document()  # Or use RStudio shortcut: Ctrl+Shift+D (Cmd+Shift+D on Mac)  # Preview documentation ?ner_func"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"vignettes","dir":"","previous_headings":"Documentation","what":"Vignettes","title":"Contributing to emburden","text":"substantial new features, consider adding vignette:","code":"# Create a new vignette usethis::use_vignette(\"new-feature-name\")  # Build vignettes devtools::build_vignettes()  # Preview vignette browseVignettes(\"emburden\")"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"","what":"Code Style","title":"Contributing to emburden","text":"follow tidyverse style guide. Key points:","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"naming-conventions","dir":"","previous_headings":"Code Style","what":"Naming Conventions","title":"Contributing to emburden","text":"Functions: snake_case (e.g., calculate_weighted_metrics) Variables: snake_case (e.g., gross_income) Constants: SCREAMING_SNAKE_CASE (e.g., DEFAULT_THRESHOLD)","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"spacing-and-formatting","dir":"","previous_headings":"Code Style","what":"Spacing and Formatting","title":"Contributing to emburden","text":"","code":"# Good result <- ner_func(income, spending) if (x > 0) {   y <- sqrt(x) }  # Bad result<-ner_func( income,spending ) if(x>0){   y<-sqrt(x) }"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"pipe-operator","dir":"","previous_headings":"Code Style","what":"Pipe Operator","title":"Contributing to emburden","text":"Use native pipe |> (R >= 4.1.0) magrittr pipe %>%:","code":"# Good data |>   filter(income > 0) |>   mutate(nh = ner_func(income, spending))  # Also acceptable data %>%   filter(income > 0) %>%   mutate(nh = ner_func(income, spending))"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"code-checking","dir":"","previous_headings":"Code Style","what":"Code Checking","title":"Contributing to emburden","text":"submitting, ensure code passes R CMD check:","code":"# Run R CMD check devtools::check()  # Should show: 0 errors ‚úì | 0 warnings ‚úì | 0 notes ‚úì"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_1-update-your-branch","dir":"","previous_headings":"Pull Request Process","what":"1. Update Your Branch","title":"Contributing to emburden","text":"","code":"# Fetch latest changes from upstream git fetch upstream  # Merge upstream main into your branch git merge upstream/main"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_2-run-final-checks","dir":"","previous_headings":"Pull Request Process","what":"2. Run Final Checks","title":"Contributing to emburden","text":"","code":"# Run all tests devtools::test()  # Run R CMD check devtools::check()  # Check code style styler::style_pkg() lintr::lint_package()"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_3-commit-your-changes","dir":"","previous_headings":"Pull Request Process","what":"3. Commit Your Changes","title":"Contributing to emburden","text":"","code":"# Stage your changes git add .  # Commit with a descriptive message git commit -m \"Add feature: brief description  - Detailed point 1 - Detailed point 2 - Fixes #123\""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_4-push-to-your-fork","dir":"","previous_headings":"Pull Request Process","what":"4. Push to Your Fork","title":"Contributing to emburden","text":"","code":"git push origin feature/your-feature-name"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"id_5-create-pull-request","dir":"","previous_headings":"Pull Request Process","what":"5. Create Pull Request","title":"Contributing to emburden","text":"Go https://github.com/ericscheier/emburden Click ‚ÄúNew Pull Request‚Äù Select fork branch Title: Clear, concise description Description: changes made Related Issues: Link relevant issues Testing: Describe tested changes","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"pr-checklist","dir":"","previous_headings":"Pull Request Process","what":"PR Checklist","title":"Contributing to emburden","text":"submitting, ensure: Code follows tidyverse style guide tests pass (devtools::test()) R CMD check passes 0 errors, 0 warnings (devtools::check()) New functions roxygen2 documentation New functions tests good coverage NEWS.md updated (significant changes) Vignettes updated (applicable)","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"review-process","dir":"","previous_headings":"Pull Request Process","what":"Review Process","title":"Contributing to emburden","text":"Maintainers review PR within 1-2 weeks may asked make changes approved, maintainer merge PR","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"development-workflow-example","dir":"","previous_headings":"","what":"Development Workflow Example","title":"Contributing to emburden","text":"‚Äôs complete workflow adding new feature:","code":"# 1. Create branch # (done in terminal: git checkout -b feature/new-metric)  # 2. Write the function # R/new_metric.R  #' Calculate New Energy Metric #' #' @param income Numeric. Gross income #' @param spending Numeric. Energy spending #' @return Numeric. New metric value #' @export new_metric_func <- function(income, spending) {   if (income <= 0 || spending <= 0) {     stop(\"Income and spending must be positive\")   }   # Your calculation here   result <- (income - spending) / income   return(result) }  # 3. Load and test interactively devtools::load_all() new_metric_func(50000, 3000)  # Should work  # 4. Write tests # tests/testthat/test-new-metric.R  test_that(\"new_metric_func works correctly\", {   expect_equal(new_metric_func(50000, 3000), 0.94)   expect_error(new_metric_func(-50000, 3000))   expect_error(new_metric_func(50000, -3000)) })  # 5. Generate documentation devtools::document()  # 6. Run all checks devtools::test()    # All tests pass devtools::check()   # 0 errors, 0 warnings  # 7. Commit and push # (done in terminal)"},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting Help","title":"Contributing to emburden","text":"Documentation: https://ericscheier.github.io/emburden/ Issues: https://github.com/ericscheier/emburden/issues Email: eric.scheier@gmail.com Discussions: Use GitHub Discussions questions","code":""},{"path":"https://ericscheier.github.io/emburden/CONTRIBUTING.html","id":"recognition","dir":"","previous_headings":"","what":"Recognition","title":"Contributing to emburden","text":"Contributors acknowledged : - package DESCRIPTION file (significant contributions) - AUTHORS file - Release notes NEWS.md Thank contributing emburden!","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":null,"dir":"","previous_headings":"","what":"Controlled Release Workflow Guide","title":"Controlled Release Workflow Guide","text":"document explains dual-approval controlled release workflow works emburden R package.","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Controlled Release Workflow Guide","text":"controlled release workflow provides secure, multi-stage process releasing new versions package. includes two manual approval gates ensure thorough review publication.","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"workflow-architecture","dir":"","previous_headings":"","what":"Workflow Architecture","title":"Controlled Release Workflow Guide","text":"","code":"‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ                    TRIGGER: Push v* tag                      ‚îÇ ‚îÇ                  (e.g., git push origin v0.1.0)             ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                              ‚ñº ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  STAGE 1: VALIDATION (Automatic)                            ‚îÇ ‚îÇ  ‚úì Version consistency check                                ‚îÇ ‚îÇ  ‚úì R CMD check (0 errors, 0 warnings)                       ‚îÇ ‚îÇ  ‚úì Test suite with coverage (‚â•70%)                          ‚îÇ ‚îÇ  ‚úì Build package tarball                                    ‚îÇ ‚îÇ  ‚úì Generate validation report                               ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                              ‚ñº ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  üö¶ GATE 1: PRE-RELEASE REVIEW (Manual Approval Required)   ‚îÇ ‚îÇ  ‚Üí Reviewer examines validation report                      ‚îÇ ‚îÇ  ‚Üí Approves if all quality checks pass                      ‚îÇ ‚îÇ  ‚Üí Environment: \"pre-release-review\"                        ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                              ‚ñº ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  STAGE 2: CREATE PRE-RELEASE (Automatic after approval)     ‚îÇ ‚îÇ  ‚úì Generate release notes from NEWS.md                      ‚îÇ ‚îÇ  ‚úì Create draft GitHub release                              ‚îÇ ‚îÇ  ‚úì Upload package tarball                                   ‚îÇ ‚îÇ  ‚úì Upload validation report                                 ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                              ‚ñº ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  üö¶ GATE 2: PRODUCTION RELEASE (Final Approval Required)    ‚îÇ ‚îÇ  ‚Üí Reviewer examines draft release                          ‚îÇ ‚îÇ  ‚Üí Final sign-off before publication                        ‚îÇ ‚îÇ  ‚Üí Environment: \"public-release\"                            ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                              ‚ñº ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  STAGE 3: PUBLISH RELEASE (Automatic after approval)        ‚îÇ ‚îÇ  ‚úì Publish GitHub release (triggers Zenodo archival)        ‚îÇ ‚îÇ  ‚úì Generate CRAN submission instructions                    ‚îÇ ‚îÇ  ‚úì Provide post-release checklist                           ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"initial-setup","dir":"","previous_headings":"","what":"Initial Setup","title":"Controlled Release Workflow Guide","text":"using workflow first time, must configure two GitHub Environments protection rules.","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"step-1-create-pre-release-review-environment","dir":"","previous_headings":"Initial Setup","what":"Step 1: Create ‚Äúpre-release-review‚Äù Environment","title":"Controlled Release Workflow Guide","text":"Go GitHub repository Navigate Settings ‚Üí Environments Click New environment Name: pre-release-review Enable Required reviewers Add 1-2 team members review validation results reviewers check tests pass quality checks succeed Click Save protection rules","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"step-2-configure-public-release-environment","dir":"","previous_headings":"Initial Setup","what":"Step 2: Configure ‚Äúpublic-release‚Äù Environment","title":"Controlled Release Workflow Guide","text":"already public-release environment, verify settings. Otherwise: Settings ‚Üí Environments, go existing public-release environment (create new one) Name: public-release Enable Required reviewers Add 1-2 DIFFERENT team members Gate 1 (independent review) reviewers perform final sign-publication Optional: Enable Wait timer (e.g., 60 minutes) cooling-period Click Save protection rules","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"step-3-verify-workflow-file","dir":"","previous_headings":"Initial Setup","what":"Step 3: Verify Workflow File","title":"Controlled Release Workflow Guide","text":"Ensure workflow file exists : file already committed repository.","code":".github/workflows/controlled-release.yaml"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"preparing-for-a-release","dir":"","previous_headings":"How to Use the Workflow","what":"Preparing for a Release","title":"Controlled Release Workflow Guide","text":"Update version number DESCRIPTION file: Update NEWS.md release notes: Commit changes:","code":"Version: 0.1.0 # emburden 0.1.0  ## New Features - Feature 1 description - Feature 2 description  ## Bug Fixes - Fix 1 description  ## Breaking Changes - None git add DESCRIPTION NEWS.md git commit -m \"Prepare release 0.1.0\" git push origin main"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"method-1-git-tag-recommended","dir":"","previous_headings":"How to Use the Workflow > Triggering a Release","what":"Method 1: Git Tag (Recommended)","title":"Controlled Release Workflow Guide","text":"","code":"# Create annotated tag git tag -a v0.1.0 -m \"Release version 0.1.0\"  # Push tag to GitHub (triggers workflow) git push origin v0.1.0"},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"method-2-manual-workflow-dispatch","dir":"","previous_headings":"How to Use the Workflow > Triggering a Release","what":"Method 2: Manual Workflow Dispatch","title":"Controlled Release Workflow Guide","text":"Go Actions tab GitHub Select Controlled Release workflow Click Run workflow Enter version (e.g., 0.1.0) Click Run workflow","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"stage-1-validation-5-10-minutes","dir":"","previous_headings":"How to Use the Workflow > Monitoring the Release Process","what":"Stage 1: Validation (5-10 minutes)","title":"Controlled Release Workflow Guide","text":"workflow automatically runs: - R CMD check multiple platforms - Full test suite coverage analysis - Package tarball build - Version consistency verification watch : - Check Actions tab progress - jobs show green checkmarks - Validation report generated","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"gate-1-pre-release-review-manual","dir":"","previous_headings":"How to Use the Workflow > Monitoring the Release Process","what":"Gate 1: Pre-Release Review (Manual)","title":"Controlled Release Workflow Guide","text":"receive notification approval needed. Reviewers : 1. Click notification go Actions ‚Üí Select running workflow 2. Review validation report artifact 3. Check quality metrics pass: - R CMD check: 0 errors, 0 warnings - Test coverage: ‚â•70% - Package builds successfully 4. Click Review deployments button 5. Select pre-release-review environment 6. Click Approve deploy Reject","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"stage-2-create-pre-release-2-3-minutes","dir":"","previous_headings":"How to Use the Workflow > Monitoring the Release Process","what":"Stage 2: Create Pre-Release (2-3 minutes)","title":"Controlled Release Workflow Guide","text":"Gate 1 approval, workflow automatically: - Extracts release notes NEWS.md - Creates draft GitHub release - Uploads package tarball - Uploads validation report","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"gate-2-production-release-manual","dir":"","previous_headings":"How to Use the Workflow > Monitoring the Release Process","what":"Gate 2: Production Release (Manual)","title":"Controlled Release Workflow Guide","text":"Second approval notification sent. Reviewers : 1. Go Releases tab GitHub 2. Review draft release: - Check release notes accurate - Verify tarball attached - Confirm correct version 3. Return Actions tab 4. Click Review deployments 5. Select production-release environment 6. Click Approve deploy Reject","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"stage-3-publish-release-1-2-minutes","dir":"","previous_headings":"How to Use the Workflow > Monitoring the Release Process","what":"Stage 3: Publish Release (1-2 minutes)","title":"Controlled Release Workflow Guide","text":"Gate 2 approval, workflow automatically: - Publishes GitHub release - Triggers Zenodo DOI archival (via Zenodo-GitHub integration) - Generates CRAN submission instructions","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"post-release-checklist","dir":"","previous_headings":"","what":"Post-Release Checklist","title":"Controlled Release Workflow Guide","text":"workflow completes:","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"id_1-verify-github-release","dir":"","previous_headings":"Post-Release Checklist","what":"1. Verify GitHub Release","title":"Controlled Release Workflow Guide","text":"Go Releases tab Confirm v0.1.0 published (draft) Verify tarball downloadable Check release notes correct","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"id_2-verify-zenodo-archival","dir":"","previous_headings":"Post-Release Checklist","what":"2. Verify Zenodo Archival","title":"Controlled Release Workflow Guide","text":"Wait 5-10 minutes Zenodo process Refresh GitHub release page Look Zenodo badge DOI Click badge verify Zenodo record","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"id_3-optional-submit-to-cran","dir":"","previous_headings":"Post-Release Checklist","what":"3. Optional: Submit to CRAN","title":"Controlled Release Workflow Guide","text":"workflow provides detailed CRAN submission instructions. Steps: 1. Download package tarball GitHub release 2. Go https://cran.r-project.org/submit.html 3. Upload tarball 4. Fill submission form 5. Confirm maintainer email 6. Monitor email CRAN feedback Typical timeline: - Initial automated checks: 1-2 hours - Human review: 2-7 days - Appears CRAN: 24 hours acceptance","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"id_4-update-package-website-if-applicable","dir":"","previous_headings":"Post-Release Checklist","what":"4. Update Package Website (if applicable)","title":"Controlled Release Workflow Guide","text":"pkgdown website:","code":"# Update website with new version Rscript -e \"pkgdown::build_site()\"  # Deploy to GitHub Pages git add docs/ git commit -m \"Update website for v0.1.0\" git push"},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"id_5-announce-release","dir":"","previous_headings":"Post-Release Checklist","what":"5. Announce Release","title":"Controlled Release Workflow Guide","text":"Social media (Twitter, Mastodon, etc.) Mailing lists forums Project collaborators Update README needed","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"for-gate-1-reviewers-pre-release","dir":"","previous_headings":"Approval Best Practices","what":"For Gate 1 Reviewers (Pre-Release)","title":"Controlled Release Workflow Guide","text":"Focus : Technical quality ‚úÖ Approve : - automated checks pass - Test coverage meets threshold - errors warnings R CMD check - Package builds successfully ‚ùå Reject : - Tests failing - Coverage low - R CMD check shows errors/warnings - Build fails","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"for-gate-2-reviewers-production","dir":"","previous_headings":"Approval Best Practices","what":"For Gate 2 Reviewers (Production)","title":"Controlled Release Workflow Guide","text":"Focus : Release readiness ‚úÖ Approve : - Release notes accurate complete - Version number correct - last-minute concerns - Ready public release ‚ùå Reject : - Release notes missing incorrect - Wrong version number - Need make additional changes - ready publication","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"workflow-fails-at-validation-stage","dir":"","previous_headings":"Troubleshooting","what":"Workflow fails at validation stage","title":"Controlled Release Workflow Guide","text":"Problem: R CMD check fails, tests fail, build errors Solution: 1. Review error logs Actions tab 2. Fix issues locally 3. Commit push fixes 4. Delete tag: git tag -d v0.1.0 && git push origin :v0.1.0 5. Recreate tag fixes","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"approval-notification-not-received","dir":"","previous_headings":"Troubleshooting","what":"Approval notification not received","title":"Controlled Release Workflow Guide","text":"Problem: Reviewer doesn‚Äôt see approval request Solution: 1. Check GitHub notification settings 2. Go directly Actions tab ‚Üí Select workflow 3. Look ‚ÄúReview deployments‚Äù button 4. Click approve/reject","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"need-to-cancel-a-release","dir":"","previous_headings":"Troubleshooting","what":"Need to cancel a release","title":"Controlled Release Workflow Guide","text":"Problem: Want stop release process Solution: 1. Gate 1: Simply don‚Äôt approve, workflow timeout 2. gates: Reject Gate 2 3. publication: unpublish, must create new patch release","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"version-mismatch-error","dir":"","previous_headings":"Troubleshooting","what":"Version mismatch error","title":"Controlled Release Workflow Guide","text":"Problem: ‚ÄúTag version match DESCRIPTION version‚Äù Solution: 1. Verify DESCRIPTION correct version 2. Verify git tag matches (without ‚Äòv‚Äô prefix DESCRIPTION) 3. Delete incorrect tag 4. Recreate correct version","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"why-dual-approval","dir":"","previous_headings":"Security Considerations","what":"Why Dual Approval?","title":"Controlled Release Workflow Guide","text":"Separation concerns: Technical review vs.¬†release readiness Prevents accidents: Two people must agree publish Audit trail: approvals logged GitHub Human oversight: Catches issues automated tests might miss","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"who-should-be-reviewers","dir":"","previous_headings":"Security Considerations","what":"Who Should Be Reviewers?","title":"Controlled Release Workflow Guide","text":"Gate 1 (Pre-Release): - Technical team members - People familiar R CMD check requirements - can interpret test results Gate 2 (Production): - Project maintainers - People authorized make releases - Independent Gate 1 reviewers (true dual approval)","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"best-practice-use-different-reviewers","dir":"","previous_headings":"Security Considerations","what":"Best Practice: Use Different Reviewers","title":"Controlled Release Workflow Guide","text":"true dual approval, Gate 1 Gate 2 different reviewers. provides independent verification stage.","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"adjusting-coverage-threshold","dir":"","previous_headings":"Advanced Configuration","what":"Adjusting Coverage Threshold","title":"Controlled Release Workflow Guide","text":"Edit .github/workflows/controlled-release.yaml:","code":"if (covr_percent < 70) {  # Change 70 to your threshold"},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"adding-wait-timer","dir":"","previous_headings":"Advanced Configuration","what":"Adding Wait Timer","title":"Controlled Release Workflow Guide","text":"production-release environment settings: - Enable ‚ÄúWait timer‚Äù - Set duration (e.g., 60 minutes) - Forces cooling-period final approval","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"disabling-dual-approval-not-recommended","dir":"","previous_headings":"Advanced Configuration","what":"Disabling Dual Approval (Not Recommended)","title":"Controlled Release Workflow Guide","text":"use single approval: 1. Keep production-release environment 2. Remove pre-release-review job workflow 3. Update job dependencies","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"faq","dir":"","previous_headings":"","what":"FAQ","title":"Controlled Release Workflow Guide","text":"Q: Can skip approval gates urgent releases? : .¬†approvals enforced GitHub Environment protection rules. intentional safety. truly urgent, can: 1. Use GitHub‚Äôs ‚ÄúBypass environment protection‚Äù feature (requires admin privileges) 2. manually publish release outside workflow Q: long approvals stay pending? : default, GitHub workflow runs timeout 72 hours. Approve within timeframe. Q: Can approve releases? : Yes, ‚Äôre listed reviewer, defeats purpose dual approval. Best practice different people approve. Q: happens Zenodo doesn‚Äôt create DOI? : Check : 1. Zenodo-GitHub integration enabled repository settings 2. repository public 3. Wait 10-15 minutes Zenodo process 4. Check Zenodo dashboard errors Q: Can test workflow without publishing? : Yes: 1. Create test branch 2. Push tag like v0.0.1-test 3. workflow run can reject Gate 2 4. Delete draft release afterward","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"related-documentation","dir":"","previous_headings":"","what":"Related Documentation","title":"Controlled Release Workflow Guide","text":"CONTRIBUTING.md - Contribution guidelines GitHub Environments Documentation Zenodo-GitHub Integration CRAN Submission Guidelines","code":""},{"path":"https://ericscheier.github.io/emburden/RELEASE_WORKFLOW.html","id":"support","dir":"","previous_headings":"","what":"Support","title":"Controlled Release Workflow Guide","text":"encounter issues release workflow: Check documentation first Review GitHub Actions logs error details Open issue repository Contact package maintainer: eric.scheier@gmail.com Last Updated: 2025-11-04 Workflow Version: 1.0","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with emburden","text":"emburden package provides tools analyzing household energy burden using Net Energy Return (Nh) methodology. vignette walk basic workflow calculating analyzing energy burden metrics.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with emburden","text":"can install emburden GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"ericscheier/emburden\") library(emburden) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"what-is-energy-burden","dir":"Articles","previous_headings":"","what":"What is Energy Burden?","title":"Getting Started with emburden","text":"Energy burden ratio household energy spending gross income: Energy Burden (EB) = S / G : - S = Energy spending (electricity, gas, fuels) - G = Gross household income household spending $3,000 energy $50,000 income 6% energy burden.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"quick-example-single-household","dir":"Articles","previous_headings":"","what":"Quick Example: Single Household","title":"Getting Started with emburden","text":"single household, methods give result: 6% energy burden.","code":"# Calculate energy burden for a single household gross_income <- 50000 energy_spending <- 3000  # Method 1: Direct energy burden eb <- energy_burden_func(gross_income, energy_spending) print(paste(\"Energy Burden:\", scales::percent(eb))) #> [1] \"Energy Burden: 6%\"  # Method 2: Via Net Energy Return (mathematically identical) nh <- ner_func(gross_income, energy_spending) neb <- 1 / (nh + 1) print(paste(\"Net Energy Burden:\", scales::percent(neb))) #> [1] \"Net Energy Burden: 6%\" print(paste(\"Net Energy Return:\", round(nh, 2))) #> [1] \"Net Energy Return: 15.67\""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading Data","title":"Getting Started with emburden","text":"package automatically downloads data OpenEI first use:","code":"# Load census tract data for North Carolina nc_tracts <- load_census_tract_data(states = \"NC\")  # Load household cohort data by Area Median Income nc_ami <- load_cohort_data(dataset = \"ami\", states = \"NC\")  # View structure head(nc_ami)"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"calculating-metrics-from-cohort-data","dir":"Articles","previous_headings":"","what":"Calculating Metrics from Cohort Data","title":"Getting Started with emburden","text":"working pre-aggregated cohort data (total income spending), calculate metrics totals:","code":"# Calculate mean income and spending from totals nc_data <- nc_ami %>%   mutate(     mean_income = total_income / households,     mean_energy_spending = (total_electricity_spend +                            coalesce(total_gas_spend, 0) +                            coalesce(total_other_spend, 0)) / households   ) %>%   filter(!is.na(mean_income), !is.na(mean_energy_spending), households > 0) %>%   mutate(     eb = energy_burden_func(mean_income, mean_energy_spending),     nh = ner_func(mean_income, mean_energy_spending),     neb = neb_func(mean_income, mean_energy_spending)   )"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"aggregating-energy-burden-critical","dir":"Articles","previous_headings":"","what":"Aggregating Energy Burden (Critical!)","title":"Getting Started with emburden","text":"‚ö†Ô∏è Important: Energy burden ratio aggregated using arithmetic mean!","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"the-wrong-way","dir":"Articles","previous_headings":"Aggregating Energy Burden (Critical!)","what":"The WRONG Way","title":"Getting Started with emburden","text":"","code":"# ‚ùå WRONG: Direct averaging of energy burden introduces ~1-5% error eb_wrong <- weighted.mean(nc_data$eb, nc_data$households)"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"the-correct-way-via-net-energy-return","dir":"Articles","previous_headings":"Aggregating Energy Burden (Critical!)","what":"The CORRECT Way: Via Net Energy Return","title":"Getting Started with emburden","text":"work? Nh transformation allows us use simple arithmetic weighted mean instead harmonic mean, making aggregation simpler intuitive.","code":"# ‚úÖ CORRECT: Aggregate using Nh, then convert to NEB nh_mean <- weighted.mean(nc_data$nh, nc_data$households) neb_correct <- 1 / (1 + nh_mean)  print(paste(\"Correct NEB:\", scales::percent(neb_correct)))"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"analysis-by-income-bracket","dir":"Articles","previous_headings":"","what":"Analysis by Income Bracket","title":"Getting Started with emburden","text":"","code":"nc_by_income <- nc_data %>%   group_by(income_bracket) %>%   summarise(     households = sum(households),     nh_mean = weighted.mean(nh, households),     neb = 1 / (1 + nh_mean),  # Correct aggregation     .groups = \"drop\"   )  print(nc_by_income)"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"identifying-high-energy-burden-households","dir":"Articles","previous_headings":"","what":"Identifying High Energy Burden Households","title":"Getting Started with emburden","text":"6% energy burden threshold commonly used identify energy poverty:","code":"# 6% energy burden corresponds to Nh = 15.67 high_burden_threshold <- 15.67  high_burden_households <- sum(nc_data$households[nc_data$nh < high_burden_threshold]) total_households <- sum(nc_data$households) high_burden_pct <- (high_burden_households / total_households) * 100  print(paste(\"Households with >6% energy burden:\",             scales::percent(high_burden_pct/100)))"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"using-calculate_weighted_metrics","dir":"Articles","previous_headings":"","what":"Using calculate_weighted_metrics()","title":"Getting Started with emburden","text":"complex grouped analysis, use built-function:","code":"results <- calculate_weighted_metrics(   graph_data = nc_ami,   group_columns = \"income_bracket\",   metric_name = \"ner\",   metric_cutoff_level = 15.67,  # 6% burden threshold   upper_quantile_view = 0.95,   lower_quantile_view = 0.05 )  # Format for publication results$formatted_median <- to_percent(results$metric_median) print(results)"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"key-takeaways","dir":"Articles","previous_headings":"","what":"Key Takeaways","title":"Getting Started with emburden","text":"single households: EB NEB give identical results aggregation: Always use Nh method avoid errors Never: Directly average energy burden values Data loading: Automatic OpenEI (2018 2022 vintages available) Threshold: 6% energy burden (Nh ‚â• 15.67) identifies high burden households","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"temporal-comparison","dir":"Articles","previous_headings":"","what":"Temporal Comparison","title":"Getting Started with emburden","text":"package provides dedicated function comparing energy burden across data vintages (2018 vs 2022): much simpler manually loading aggregating vintages!","code":"# Compare by income bracket comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"income_bracket\" )  # View results print(comparison)  # The function automatically: # - Loads both 2018 and 2022 data # - Normalizes schema differences (4 vs 6 AMI brackets) # - Performs proper Nh-based aggregation # - Calculates changes in energy burden  # Grouping options: # - \"income_bracket\": Compare by AMI/FPL brackets (default) # - \"state\": Compare multiple states # - \"none\": Overall state-level comparison  # Example: State-level comparison state_comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"none\" )  # Access specific metrics state_comparison$neb_2018         # 2018 energy burden state_comparison$neb_2022         # 2022 energy burden state_comparison$neb_change_pp    # Change in percentage points state_comparison$neb_change_pct   # Relative change percentage"},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with emburden","text":"See vignette(\"methodology\") mathematical details See NEB_QUICKSTART.md quick reference Run example scripts analysis/scripts/ directory Read full documentation: ?energy_burden_func, ?ner_func","code":""},{"path":"https://ericscheier.github.io/emburden/articles/getting-started.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Getting Started with emburden","text":"Paper: ‚ÄúNet energy metrics reveal striking disparities across United States household energy burdens‚Äù LEAD Tool Data: https://data.openei.org/ GitHub: https://github.com/ericscheier/emburden","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Household energy affordability persistent challenge affecting millions households United States. Low-income households face disproportionate energy burdens, often spending 6% income energy costs compared 2-3% higher-income households (Ross, Drehobl, Stickles 2018; Drehobl Ross 2016). Understanding disparities tracking changes time essential designing effective energy assistance programs policies. traditional energy burden metric‚Äîratio energy expenditures (SS) gross income (GG)‚Äîseveral analytical limitations. ratio income denominator, energy burden (Eb=S/GE_b = S/G) approaches infinity households low incomes, creating challenges aggregation visualization. Additionally, metric requires harmonic mean aggregation rather arithmetic means, widely understood consistently applied (Scheier Kittner 2022).","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"mathematical-foundations","dir":"Articles","previous_headings":"Introduction","what":"Mathematical foundations","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package addresses challenges implementing Net Energy Return (NER) methodology, adapted macro-energy systems analysis (Hall, Lambert, Balogh 2011; Brandt, Dale, Barnhart 2013; Carbajales-Dale et al. 2014). Net energy analysis estimates net energy return process relationship gross resources extracted embodied energy directed toward extraction: G=GrossResourceExtractedG = Gross\\ Resource\\ Extracted S=SpendingonExtractionProcessS = Spending\\ \\ Extraction\\ Process NetEnergyReturn(NER)=G‚àíSSNet\\ Energy\\ Return\\ (NER) = \\frac{G - S}{S} households extracting income economy, ratios become: Gincome=GrossIncomeG_{income} = Gross\\ Income Senergy=SpendingonEnergyS_{energy} = Spending\\ \\ Energy NERhousehold=Gincome‚àíSenergySenergyNER_{household} = \\frac{G_{income} - S_{energy}}{S_{energy}} metric represents net earnings household receives every dollar expenditure secondary energy. notational simplicity, use NhN_h denote household Net Energy Return throughout paper, Nh=NERhouseholdN_h = NER_{household}.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"comparison-with-energy-burden","dir":"Articles","previous_headings":"Introduction > Mathematical foundations","what":"Comparison with energy burden","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Energy burden, traditional metric energy poverty analysis, defined : EnergyBurden=Eb=SenergyGincomeEnergy\\ Burden = E_b = \\frac{S_{energy}}{G_{income}} energy burden intuitive percentage, several mathematical limitations. Net Energy Return transformation addresses preventing double-counting energy expenditures (income numerator already includes portion spent energy) enabling proper weighted mean aggregation: Nh¬Ø=‚àë(Nh√óhouseholds)‚àëhouseholds\\overline{N_h} = \\frac{\\sum (N_h \\times households)}{\\sum households} contrast, energy burden requires harmonic mean aggregation: Eb¬Ø=11/Eb¬Ø\\overline{E_b} = \\frac{1}{\\overline{1/E_b}} two metrics mathematically related transformation Eb=1/(Nh+1)E_b = 1/(N_h + 1), allowing seamless conversion representations.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"energy-poverty-threshold","dir":"Articles","previous_headings":"Introduction > Mathematical foundations","what":"Energy poverty threshold","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Energy poverty commonly defined spending greater 10% household income energy (Bednar Reames 2020): Eb*=SenergyGincome>10%E_b^{*} = \\frac{S_{energy}}{G_{income}} > 10\\% Translated Net Energy Return, energy poverty threshold becomes: Nh*<9:HouseholdatEnergyPovertyLineN_h^{*} < 9: Household\\ \\ Energy\\ Poverty\\ Line means household earning less $9 income every dollar spent secondary energy considered energy poverty traditional energy burden accounting method. Net Energy Return 9 lower equivalent energy burden 10% higher. threshold somewhat arbitrary may suitable situations, provides useful benchmark comparing results energy poverty literature.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"the-lead-tool-and-temporal-analysis","dir":"Articles","previous_headings":"Introduction","what":"The LEAD Tool and temporal analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"U.S. Department Energy‚Äôs Low-Income Energy Affordability Data (LEAD) Tool (Ma et al. 2019) provides census tract-level estimates household energy characteristics based American Community Survey microdata. tool uses iterative proportional fitting allocate households census tracts calibrating utility-reported sales revenues. Multiple vintages LEAD Tool data released: 2018 Update: Based 2018 5-year ACS data, released July 2020 2022 Update: Based 2022 5-year ACS data, released August 2024 vintages enable temporal analysis energy burden trends, require careful handling schema differences income bracket definitions.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"package-design-philosophy","dir":"Articles","previous_headings":"Introduction","what":"Package design philosophy","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package designed around several key principles: Proper aggregation: Implements weighted mean aggregation using Net Energy Return, household counts weights Temporal consistency: Normalizes schema differences LEAD Tool vintages enable valid comparisons Flexible workflows: Supports database CSV-based data access automatic fallback Geographic flexibility: Enables analysis national level individual census tracts","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"data-sources","dir":"Articles","previous_headings":"Methodology","what":"Data sources","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package provides access three primary datasets household energy burden analysis:","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"lead-tool","dir":"Articles","previous_headings":"Methodology > Data sources","what":"LEAD Tool","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Low-Income Energy Affordability Data (LEAD) Tool (Ma et al. 2019) portrays average income, electricity expenditures, gas expenditures, fuel expenditures cohorts households segmented location (census tract, county, state) household characteristics (ownership status, building age, number units, attachment status, primary heating fuel). dataset assembled using iterative proportional fitting (IPF), widely used spatial microsimulation method allocate households census tracts calibrating characteristics known quantities. IPF algorithm processes cross-tabulations household responses American Community Survey (ACS) Public Use Microdata Samples, scaling match aggregate annual values utility sales revenues reported Energy Information Administration forms 861 (electricity) 176 (natural gas). Multiple vintages available: 2018 Update: Based 2016 5-year ACS data (2012-2016), released July 2020 2022 Update: Based 2018 5-year ACS data (2014-2018), released August 2024","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"replica-dataset","dir":"Articles","previous_headings":"Methodology > Data sources","what":"REPLICA dataset","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Renewable Energy Potential Low-Income Communities America (REPLICA) dataset (Sigrin Mooney 2018) adds technical rooftop solar potential additional techno-economic variables including demographics electricity rates. package can merge REPLICA data LEAD data enrich analyses utility type, locale classification, solar generation potential.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"schema-normalization-across-vintages","dir":"Articles","previous_headings":"Methodology > Data sources","what":"Schema normalization across vintages","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"critical challenge temporal analysis handling schema differences LEAD Tool vintages. package implements automatic normalization following transformations: Income bracket aggregation: LEAD Tool provides income fraction Area Median Income (AMI) Federal Poverty Level (FPL). AMI data, package can aggregate detailed brackets simplified categories matching REPLICA schema: 0-30% AMI: Low Income 30-80% AMI: Low--Moderate Income 80%+ AMI: Middle--High Income FPL data, aggregation follows poverty line definitions: 0-100% FPL: Poverty 100%+ FPL: Poverty Building type simplification: Housing units classified : 1 Unit: Single-Family 1 Unit: Multi-Family Unit: Excluded analysis normalizations enable valid temporal comparisons despite underlying schema evolution vintages.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"data-processing","dir":"Articles","previous_headings":"Methodology","what":"Data processing","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package processes raw LEAD Tool data several stages:","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"energy-burden-indicator-calculation","dir":"Articles","previous_headings":"Methodology > Data processing","what":"Energy burden indicator calculation","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"household cohort, package calculates: s=electricity+naturalgas+otherfuelss = electricity + natural\\ gas + \\ fuels g=annualhouseholdincomeg = annual\\ household\\ income base metrics, energy burden indicators derived using formulas presented Section 1.1.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"weighted-aggregation","dir":"Articles","previous_headings":"Methodology > Data processing","what":"Weighted aggregation","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package implements proper weighted aggregation using household counts weights. Net Energy Return: function: Filters data specified groups Calculates weighted means using household counts Computes poverty rates specified thresholds Returns summary statistics including quantiles standard deviations key insight Net Energy Return allows arithmetic weighted means, energy burden require harmonic mean aggregation‚Äîdistinction significantly impacts validity interpretability aggregate statistics.","code":"calculate_weighted_metrics(   data,   group_columns = c(\"state\", \"income_bracket\"),   metric_name = \"ner\" )"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"data-quality-considerations","dir":"Articles","previous_headings":"Methodology > Data processing","what":"Data quality considerations","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Iterative proportional fitting limitations estimation procedure. relationship constraint variables tends toward average initializing dataset, potentially depressing variations among otherwise similar regions. may explain large quantities households estimated low incomes. Validating estimated data require randomized surveys along dimensions interest. Additionally, ‚Äúprimary heating fuel‚Äù category derives ACS question ‚Äúfuel used heating house, apartment, mobile home?‚Äù predictive power question energy expenditures fully understood warrants caution interpretation. Though REPLICA relies different LEAD vintage (2017) recent analyses (2019, 2022), package still enables useful cross-dataset analysis. However, inferring differences among annual estimates account standard error data (Ma et al. 2019). Rigorous temporal analysis benefits comparing identically-processed vintages.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"package-architecture","dir":"Articles","previous_headings":"","what":"Package architecture","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package organized several functional modules:","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"core-functions","dir":"Articles","previous_headings":"Package architecture","what":"Core functions","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"","code":"library(emburden)  # Energy metric calculations energy_burden_func(gross_income, energy_spending) ner_func(gross_income, energy_spending)  # Net Energy Return eroi_func(gross_income, energy_spending)  # EROI dear_func(gross_income, energy_spending)  # DEAR  # Statistical aggregation calculate_weighted_metrics(   graph_data,   group_columns = \"state\",   metric_name = \"ner\" )"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"data-loading-functions","dir":"Articles","previous_headings":"Package architecture","what":"Data loading functions","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package provides automatic data downloading caching:","code":"# Load census tract data (auto-downloads if not available) nc_tracts <- load_census_tract_data(states = \"NC\")  # Load cohort data by income bracket nc_ami <- load_cohort_data(   dataset = \"ami\",   states = \"NC\",   vintage = \"2022\" )  # Compare vintages comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"state\" )"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"analysis-examples","dir":"Articles","previous_headings":"","what":"Analysis examples","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package‚Äôs primary contribution enabling temporal analysis energy burden proper schema normalization aggregation. section demonstrates package‚Äôs capabilities progressively detailed examples.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"temporal-comparison-workflow","dir":"Articles","previous_headings":"Analysis examples","what":"Temporal comparison workflow","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"compare_energy_burden() function provides core temporal analysis functionality: function automatically: Downloads vintages cached locally Normalizes schema differences vintages Performs proper NhN_h-based weighted aggregation Calculates energy burden periods Computes changes percentage points","code":"library(emburden)  # Compare North Carolina energy burden: 2018 vs 2022 nc_comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"income_bracket\" )  # View formatted comparison table print(nc_comparison)"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"understanding-the-output","dir":"Articles","previous_headings":"Analysis examples > Temporal comparison workflow","what":"Understanding the output","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"comparison object contains multiple metrics:","code":"# Energy burden in 2018 and 2022 nc_comparison$neb_2018 nc_comparison$neb_2022  # Change in energy burden (percentage points) nc_comparison$neb_change_pp  # Net Energy Return values nc_comparison$ner_2018 nc_comparison$ner_2022  # Household counts nc_comparison$households_2018 nc_comparison$households_2022"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-1-state-level-temporal-analysis","dir":"Articles","previous_headings":"Analysis examples","what":"Example 1: State-level temporal analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"examine overall state changes without grouping demographic characteristics:","code":"# Overall state comparison nc_state <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"none\" )  # Extract key findings cat(sprintf(   \"North Carolina energy burden changed from %.1f%% (2018) to %.1f%% (2022)\\n\",   nc_state$neb_2018 * 100,   nc_state$neb_2022 * 100 ))  cat(sprintf(   \"Change: %+.2f percentage points\\n\",   nc_state$neb_change_pp * 100 ))"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-2-income-bracket-analysis","dir":"Articles","previous_headings":"Analysis examples","what":"Example 2: Income bracket analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Disaggregating income bracket reveals populations experienced largest changes: Typical findings show low-income households (0-30% AMI) experience highest energy burdens vulnerable changes energy costs income levels.","code":"# Compare by income bracket nc_income <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"income_bracket\" )  # Visualize changes library(ggplot2)  ggplot(nc_income, aes(x = income_bracket, y = neb_change_pp * 100)) +   geom_col(fill = \"steelblue\") +   geom_hline(yintercept = 0, linetype = \"dashed\") +   labs(     title = \"Change in Energy Burden by Income Bracket\",     subtitle = \"North Carolina, 2018 to 2022\",     x = \"Income Bracket (% of Area Median Income)\",     y = \"Change in Energy Burden (percentage points)\"   ) +   theme_minimal()"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-3-multi-state-comparison","dir":"Articles","previous_headings":"Analysis examples","what":"Example 3: Multi-state comparison","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Comparing multiple states reveals regional patterns policy impacts:","code":"# Compare Southern states southern_states <- compare_energy_burden(   dataset = \"ami\",   states = c(\"NC\", \"SC\", \"GA\", \"FL\"),   group_by = \"state\" )  # Which states improved most? southern_states %>%   arrange(neb_change_pp) %>%   select(state_abbr, neb_2018, neb_2022, neb_change_pp)  # Visualize state comparison ggplot(southern_states, aes(x = reorder(state_abbr, neb_2022),                              y = neb_2022 * 100)) +   geom_col(fill = \"darkgreen\") +   geom_point(aes(y = neb_2018 * 100), color = \"red\", size = 3) +   labs(     title = \"Energy Burden by State: 2022 (bars) vs 2018 (points)\",     x = \"State\",     y = \"Energy Burden (%)\"   ) +   theme_minimal()"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-4-housing-tenure-analysis","dir":"Articles","previous_headings":"Analysis examples","what":"Example 4: Housing tenure analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Energy burden often varies significantly renters homeowners: Renters typically face higher energy burdens due split-incentive problems landlords make efficiency investment decisions tenants pay energy bills.","code":"# Compare by housing tenure nc_tenure <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"housing_tenure\" )  # Calculate the renter-owner gap gap_2018 <- nc_tenure$neb_2018[nc_tenure$housing_tenure == \"RENTER\"] -             nc_tenure$neb_2018[nc_tenure$housing_tenure == \"OWNER\"]  gap_2022 <- nc_tenure$neb_2022[nc_tenure$housing_tenure == \"RENTER\"] -             nc_tenure$neb_2022[nc_tenure$housing_tenure == \"OWNER\"]  cat(sprintf(   \"Renter-Owner energy burden gap: %.2f pp (2018) ‚Üí %.2f pp (2022)\\n\",   gap_2018 * 100,   gap_2022 * 100 ))"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-5-federal-poverty-line-analysis","dir":"Articles","previous_headings":"Analysis examples","what":"Example 5: Federal Poverty Line analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"policy applications targeting households federal poverty line: analysis particularly relevant programs like Low-Income Home Energy Assistance Program (LIHEAP) target households specific poverty thresholds.","code":"# Use FPL dataset instead of AMI nc_fpl <- compare_energy_burden(   dataset = \"fpl\",   states = \"NC\",   group_by = \"income_bracket\" )  # Compare poverty vs non-poverty households nc_fpl %>%   filter(income_bracket %in% c(\"Below Federal Poverty Line\",                                 \"Above Federal Poverty Line\")) %>%   select(income_bracket, neb_2018, neb_2022, neb_change_pp)"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"example-6-census-tract-level-analysis","dir":"Articles","previous_headings":"Analysis examples","what":"Example 6: Census tract-level analysis","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"fine-grained spatial analysis, load tract-level data directly: Census tract data enables spatial analysis mapping applications, revealing urban-rural disparities identifying communities need targeted assistance.","code":"# Load 2022 census tract data nc_tracts_2022 <- load_census_tract_data(   states = \"NC\",   vintage = \"2022\" )  # Calculate county-level statistics nc_counties <- calculate_weighted_metrics(   nc_tracts_2022,   group_columns = \"county_name\",   metric_name = \"ner\" )  # Identify counties with highest energy burden nc_counties %>%   mutate(energy_burden = 1 / (ner + 1)) %>%   arrange(desc(energy_burden)) %>%   head(10) %>%   select(county_name, energy_burden, household_count)"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"policy-implications","dir":"Articles","previous_headings":"Discussion","what":"Policy implications","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"ability track energy burden changes time important policy implications. Programs like LIHEAP (Low-Income Home Energy Assistance Program) WAP (Weatherization Assistance Program) target households experiencing energy insecurity, evaluating effectiveness requires robust temporal analysis. package enables researchers policymakers : Track program impacts: Compare energy burden policy interventions Identify vulnerable populations: Disaggregate trends income, tenure, geography Allocate resources effectively: Target communities worsening energy affordability Benchmark across jurisdictions: Compare state local policy outcomes","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"split-incentive-and-principal-agent-problems","dir":"Articles","previous_headings":"Discussion > Policy implications","what":"Split-incentive and principal-agent problems","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"persistent challenge energy equity split-incentive problem: landlords make energy efficiency investment decisions, tenants pay energy bills. misalignment incentives leads underinvestment efficiency improvements rental properties. package‚Äôs ability analyze energy burden housing tenure reveals magnitude problem: Addressing gap requires policy interventions : -bill financing programs Landlord incentive programs Energy efficiency standards rental properties Community-scale renewable energy projects","code":"# Quantify the renter-owner gap tenure_comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"all\",  # National analysis   group_by = \"housing_tenure\" )  # Calculate disparity renter_burden <- tenure_comparison$neb_2022[   tenure_comparison$housing_tenure == \"RENTER\" ] owner_burden <- tenure_comparison$neb_2022[   tenure_comparison$housing_tenure == \"OWNER\" ]  disparity_ratio <- renter_burden / owner_burden"},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"data-limitations-and-considerations","dir":"Articles","previous_headings":"Discussion","what":"Data limitations and considerations","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Users aware several data limitations:","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"iterative-proportional-fitting-constraints","dir":"Articles","previous_headings":"Discussion > Data limitations and considerations","what":"Iterative proportional fitting constraints","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"LEAD Tool uses IPF allocate households census tracts, important implications: Regression toward mean: IPF tends depress variations among similar regions Estimation uncertainty: Standard errors substantial, especially small cohorts Temporal comparability: Different ACS vintages may methodological differences","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"income-measurement-challenges","dir":"Articles","previous_headings":"Discussion > Data limitations and considerations","what":"Income measurement challenges","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Household income reported ACS known limitations: Underreporting: Particularly benefits informal income Timing: Income annual energy costs vary seasonally Household composition: Per-capita income may relevant analyses","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"energy-expenditure-estimation","dir":"Articles","previous_headings":"Discussion > Data limitations and considerations","what":"Energy expenditure estimation","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"‚Äúprimary heating fuel‚Äù categorization derives single ACS question may fully capture: Mixed-fuel households Behavioral patterns Appliance efficiency variations Climate variations within states Despite limitations, LEAD Tool represents comprehensive spatial dataset available energy burden analysis United States.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"future-research-directions","dir":"Articles","previous_headings":"Discussion","what":"Future research directions","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Several extensions enhance package‚Äôs capabilities:","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"additional-vintages","dir":"Articles","previous_headings":"Discussion > Future research directions","what":"Additional vintages","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"DOE releases new LEAD Tool vintages (potentially 2024, 2026, etc.), package can incorporate enable longer-term trend analysis. support: Multi-year trend identification Correlation economic cycles Climate change impact assessment","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"additional-metrics","dir":"Articles","previous_headings":"Discussion > Future research directions","what":"Additional metrics","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package currently implements Net Energy Return, EROI, DEAR. Future versions add: Disposable income ratios: Accounting essential expenses beyond energy Energy poverty depth: far thresholds households fall Vulnerability indices: Combining burden demographic risk factors","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"spatial-analysis-enhancements","dir":"Articles","previous_headings":"Discussion > Future research directions","what":"Spatial analysis enhancements","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Geographic extensions include: Integration climate zone data Utility service territory analysis Transportation energy burden incorporation Built environment characteristics","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"causal-analysis-tools","dir":"Articles","previous_headings":"Discussion > Future research directions","what":"Causal analysis tools","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Methodological extensions policy evaluation: Difference--differences estimation Synthetic control methods Regression discontinuity designs Propensity score matching","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"comparison-with-existing-tools","dir":"Articles","previous_headings":"Discussion","what":"Comparison with existing tools","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"Several tools exist energy burden analysis, different strengths: LEAD Tool web interface: Interactive limited temporal comparison State energy office tools: Customized standardized across states Academic datasets: Rich often one-time snapshots : Focused temporal analysis proper aggregation methodology package fills gap providing programmatic access multiple vintages automated schema normalization, enabling reproducible temporal analyses scale.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/jss-emburden.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"\\pkg{emburden}: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,emburden: Temporal Analysis of Household Energy Burden Using Net Energy Return Metrics,\\pkg{emburden}: Temporal Energy Burden Analysis","text":"package provides robust framework temporal analysis household energy burden using proper Net Energy Return methodology. automating data access, normalizing schema differences, implementing correct aggregation methods, package enables researchers policymakers track energy affordability trends across multiple scales. Key contributions include: Mathematical foundations: Proper Net Energy Return aggregation avoiding double-counting Temporal consistency: Automated schema normalization across LEAD Tool vintages Flexible analysis: Functions supporting national, state, county, tract-level analysis Policy relevance: Direct support energy assistance program evaluation package available GitHub licensed AGPL-3+. Documentation, vignettes, issue tracking available package website.","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Net Energy Return Methodology","text":"vignette explains mathematical foundations Net Energy Return (Nh) methodology analyzing household energy burden. ‚Äôll show approach theoretically sound computationally advantageous aggregation across households.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"the-problem-aggregating-ratios","dir":"Articles","previous_headings":"","what":"The Problem: Aggregating Ratios","title":"Net Energy Return Methodology","text":"Energy burden defined ratio energy spending gross income: Energy Burden (EB) = S / G : - S = Total energy spending (electricity + gas + fuels) - G = Gross household income definition straightforward single household, aggregating energy burden across multiple households trivial.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"why-arithmetic-mean-fails","dir":"Articles","previous_headings":"The Problem: Aggregating Ratios","what":"Why Arithmetic Mean Fails","title":"Net Energy Return Methodology","text":"Consider three households: ‚Äúaverage‚Äù energy burden across three households? incorrect treats households equally, ignoring represent different amounts total income spending. still wrong? Energy burden ratio, ratios aggregated using arithmetic means. correct approach requires harmonic mean.","code":"# Three households with different income/spending patterns households <- data.frame(   id = 1:3,   income = c(30000, 50000, 100000),   spending = c(3000, 3500, 4000) )  households$eb <- energy_burden_func(households$income, households$spending) print(households) #>   id income spending   eb #> 1  1  3e+04     3000 0.10 #> 2  2  5e+04     3500 0.07 #> 3  3  1e+05     4000 0.04 # Attempt 1: Simple arithmetic mean (WRONG!) mean_eb_wrong <- mean(households$eb) print(paste(\"Simple mean EB:\", scales::percent(mean_eb_wrong))) #> [1] \"Simple mean EB: 7%\" # Attempt 2: Weighted arithmetic mean (STILL WRONG!) # Let's weight by number of households (all equal here, but principle matters) weights <- c(100, 150, 200)  # Different household counts  eb_arithmetic_mean <- weighted.mean(households$eb, weights) print(paste(\"Weighted arithmetic mean EB:\", scales::percent(eb_arithmetic_mean))) #> [1] \"Weighted arithmetic mean EB: 6%\""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"the-correct-approach-harmonic-mean","dir":"Articles","previous_headings":"The Problem: Aggregating Ratios","what":"The Correct Approach: Harmonic Mean","title":"Net Energy Return Methodology","text":"ratios like energy burden, mathematically correct aggregation uses harmonic mean: harmonic mean gives result calculating energy burden aggregated totals, want!","code":"# Correct aggregation: Weighted harmonic mean eb_harmonic <- 1 / weighted.mean(1 / households$eb, weights) print(paste(\"Weighted harmonic mean EB:\", scales::percent(eb_harmonic))) #> [1] \"Weighted harmonic mean EB: 6%\"  # Verify by calculating from totals total_spending <- sum(households$spending * weights) total_income <- sum(households$income * weights) eb_from_totals <- total_spending / total_income print(paste(\"EB from totals:\", scales::percent(eb_from_totals))) #> [1] \"EB from totals: 5%\"  # These should be identical print(paste(\"Difference:\", abs(eb_harmonic - eb_from_totals))) #> [1] \"Difference: 0.00198446937014668\""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"the-solution-net-energy-return-nh","dir":"Articles","previous_headings":"","what":"The Solution: Net Energy Return (Nh)","title":"Net Energy Return Methodology","text":"harmonic mean correct, practical drawbacks: 1. Computational complexity: Requires division individual EB value 2. Numerical instability: small EB values (e.g., 0.01) become large (100) inversion 3. Less intuitive: Harmonic means less familiar analysts 4. Error-prone: Easy accidentally use arithmetic mean instead Net Energy Return (Nh) transformation solves issues.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"mathematical-relationship","dir":"Articles","previous_headings":"The Solution: Net Energy Return (Nh)","what":"Mathematical Relationship","title":"Net Energy Return Methodology","text":"Net Energy Return defined : Nh = (G - S) / S represents ‚Äúnet energy return per unit energy spending‚Äù - similar concepts biophysical economics. Key insight: Nh can aggregated using simple arithmetic mean, converted back energy burden! Let‚Äôs verify mathematical relationship:","code":"# Starting from Nh = (G - S) / S # Let's solve for EB = S / G  # Nh = (G - S) / S # Nh = G/S - S/S # Nh = G/S - 1 # Nh + 1 = G/S # 1 / (Nh + 1) = S/G = EB  # Therefore: EB = 1 / (Nh + 1)  # Verify with our example households$nh <- ner_func(households$income, households$spending) households$eb_from_nh <- 1 / (households$nh + 1)  # Compare to original EB households$identical <- all.equal(households$eb, households$eb_from_nh) print(households[, c(\"id\", \"eb\", \"eb_from_nh\", \"nh\")]) #>   id   eb eb_from_nh       nh #> 1  1 0.10       0.10  9.00000 #> 2  2 0.07       0.07 13.28571 #> 3  3 0.04       0.04 24.00000"},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"aggregation-via-arithmetic-mean","dir":"Articles","previous_headings":"The Solution: Net Energy Return (Nh)","what":"Aggregation via Arithmetic Mean","title":"Net Energy Return Methodology","text":"Now can aggregate using simple arithmetic mean: Result: methods give identical results, Nh method uses simple arithmetic mean instead harmonic mean!","code":"# Step 1: Calculate Nh for each household nh_values <- ner_func(households$income, households$spending)  # Step 2: Arithmetic weighted mean (simple!) nh_mean <- weighted.mean(nh_values, weights) print(paste(\"Weighted mean Nh:\", round(nh_mean, 2))) #> [1] \"Weighted mean Nh: 17.1\"  # Step 3: Convert back to EB eb_from_nh <- 1 / (nh_mean + 1) print(paste(\"EB from Nh method:\", scales::percent(eb_from_nh))) #> [1] \"EB from Nh method: 6%\"  # Compare to harmonic mean result print(paste(\"EB from harmonic mean:\", scales::percent(eb_harmonic))) #> [1] \"EB from harmonic mean: 6%\" print(paste(\"Difference:\", abs(eb_from_nh - eb_harmonic))) #> [1] \"Difference: 0\""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"why-this-works-the-mathematics","dir":"Articles","previous_headings":"","what":"Why This Works: The Mathematics","title":"Net Energy Return Methodology","text":"key mathematical insight Nh transformation linearizes aggregation problem. group households weights wiw_i, incomes GiG_i, spending SiS_i: Harmonic mean approach: EBagg=1‚àëiwi‚ãÖ1EBi=1‚àëiwi‚ãÖGiSi\\text{EB}_{\\text{agg}} = \\frac{1}{\\sum_i w_i \\cdot \\frac{1}{\\text{EB}_i}} = \\frac{1}{\\sum_i w_i \\cdot \\frac{G_i}{S_i}} Nh approach: Nhmean=‚àëiwi‚ãÖNhi=‚àëiwi‚ãÖGi‚àíSiSi\\text{Nh}_{\\text{mean}} = \\sum_i w_i \\cdot \\text{Nh}_i = \\sum_i w_i \\cdot \\frac{G_i - S_i}{S_i} EBagg=11+Nhmean\\text{EB}_{\\text{agg}} = \\frac{1}{1 + \\text{Nh}_{\\text{mean}}} formulations mathematically equivalent computing underlying data.","code":""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"computational-advantages-for-aggregation","dir":"Articles","previous_headings":"","what":"Computational Advantages (For Aggregation)","title":"Net Energy Return Methodology","text":"Nh method provides several advantages aggregating across multiple households: Note: computational advantage applies specifically aggregation across households. single household calculations, methods equivalent (EB = S/G = 1/(1+Nh)) require basic operations.","code":"# Simulate larger dataset set.seed(42) n <- 10000 large_data <- data.frame(   income = rlnorm(n, meanlog = 10.8, sdlog = 0.8),  # Log-normal income distribution   spending = NA ) large_data$spending <- pmin(   rlnorm(n, meanlog = 8.2, sdlog = 0.5),  # Log-normal spending   large_data$income * 0.5  # Cap at 50% of income ) weights <- sample(50:500, n, replace = TRUE)  # Method 1: Nh with arithmetic mean system.time({   nh <- ner_func(large_data$income, large_data$spending)   nh_mean <- weighted.mean(nh, weights)   eb_nh <- 1 / (1 + nh_mean) }) #>    user  system elapsed  #>       0       0       0  # Method 2: Harmonic mean system.time({   eb_direct <- energy_burden_func(large_data$income, large_data$spending)   eb_harmonic <- 1 / weighted.mean(1 / eb_direct, weights) }) #>    user  system elapsed  #>       0       0       0  # Verify results are identical print(paste(\"EB via Nh:\", scales::percent(eb_nh))) #> [1] \"EB via Nh: 5%\" print(paste(\"EB via harmonic mean:\", scales::percent(eb_harmonic))) #> [1] \"EB via harmonic mean: 5%\" print(paste(\"Difference:\", abs(eb_nh - eb_harmonic))) #> [1] \"Difference: 0\""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"numerical-stability","dir":"Articles","previous_headings":"Computational Advantages (For Aggregation)","what":"Numerical Stability","title":"Net Energy Return Methodology","text":"Nh method also numerically stable: low energy burdens (e.g., 0.01 = 1%) become large values (100) inverted harmonic mean calculation. Nh values remain reasonable range, reducing numerical precision issues.","code":"# Households with very low energy burden low_burden <- data.frame(   income = c(200000, 500000, 1000000),   spending = c(2000, 3000, 5000)  # Very low spending relative to income )  low_burden$eb <- energy_burden_func(low_burden$income, low_burden$spending) low_burden$nh <- ner_func(low_burden$income, low_burden$spending)  print(\"Energy Burden (direct):\") #> [1] \"Energy Burden (direct):\" print(low_burden$eb) #> [1] 0.010 0.006 0.005  print(\"\\nReciprocal of EB (used in harmonic mean):\") #> [1] \"\\nReciprocal of EB (used in harmonic mean):\" print(1 / low_burden$eb)  # Very large numbers! #> [1] 100.0000 166.6667 200.0000  print(\"\\nNet Energy Return (Nh):\") #> [1] \"\\nNet Energy Return (Nh):\" print(low_burden$nh)  # More reasonable range #> [1]  99.0000 165.6667 199.0000"},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"error-from-incorrect-aggregation","dir":"Articles","previous_headings":"","what":"Error from Incorrect Aggregation","title":"Net Energy Return Methodology","text":"Let‚Äôs quantify error introduced incorrectly using arithmetic mean EB values: error using arithmetic mean instead proper aggregation typically 1-5% relative terms, can significant policy analysis equity assessments.","code":"# Use realistic North Carolina-like data set.seed(123) n_households <- 5000  realistic_data <- data.frame(   income_bracket = sample(     c(\"0-30% AMI\", \"30-50% AMI\", \"50-80% AMI\", \"80-100% AMI\", \"100%+ AMI\"),     n_households,     replace = TRUE,     prob = c(0.15, 0.12, 0.20, 0.10, 0.43)   ),   income = rlnorm(n_households, meanlog = 10.8, sdlog = 0.8),   households = sample(10:100, n_households, replace = TRUE) )  realistic_data$spending <- realistic_data$income * rlnorm(   n_households,   meanlog = log(0.05),   sdlog = 0.6 )  # Calculate metrics realistic_data <- realistic_data %>%   mutate(     eb = energy_burden_func(income, spending),     nh = ner_func(income, spending),     neb = neb_func(income, spending)   )  # WRONG: Arithmetic mean of EB eb_wrong <- weighted.mean(realistic_data$eb, realistic_data$households)  # CORRECT: Via Nh nh_mean <- weighted.mean(realistic_data$nh, realistic_data$households) eb_correct <- 1 / (1 + nh_mean)  # Calculate error absolute_error <- eb_wrong - eb_correct relative_error_pct <- (absolute_error / eb_correct) * 100  cat(sprintf(\"WRONG (arithmetic mean EB): %.2f%%\\n\", eb_wrong * 100)) #> WRONG (arithmetic mean EB): 5.94% cat(sprintf(\"CORRECT (via Nh method):   %.2f%%\\n\", eb_correct * 100)) #> CORRECT (via Nh method):   4.15% cat(sprintf(\"Absolute error:             %.4f\\n\", absolute_error)) #> Absolute error:             0.0179 cat(sprintf(\"Relative error:             %.2f%%\\n\", relative_error_pct)) #> Relative error:             43.18%"},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"practical-workflow","dir":"Articles","previous_headings":"","what":"Practical Workflow","title":"Net Energy Return Methodology","text":"‚Äôs recommended workflow energy burden analysis:","code":"# Step 1: Calculate Nh for all observations data_with_metrics <- realistic_data %>%   mutate(     nh = ner_func(income, spending),     neb = neb_func(income, spending)  # Same as eb, but emphasizes proper aggregation   )  # Step 2: Aggregate by groups using arithmetic weighted mean by_bracket <- data_with_metrics %>%   group_by(income_bracket) %>%   summarise(     total_households = sum(households),     nh_mean = weighted.mean(nh, households),     neb = 1 / (1 + nh_mean),  # Correct aggregation     .groups = \"drop\"   ) %>%   arrange(desc(neb))  print(by_bracket) #> # A tibble: 5 √ó 4 #>   income_bracket total_households nh_mean    neb #>   <chr>                     <int>   <dbl>  <dbl> #> 1 0-30% AMI                 42020    22.1 0.0433 #> 2 50-80% AMI                55223    22.4 0.0427 #> 3 80-100% AMI               26530    22.7 0.0422 #> 4 30-50% AMI                32511    23.6 0.0407 #> 5 100%+ AMI                116969    23.8 0.0404  # Step 3: Identify high-burden households high_burden_threshold <- 0.06  # 6% energy burden threshold nh_threshold <- (1 / high_burden_threshold) - 1  # = 15.67  high_burden_count <- sum(   data_with_metrics$households[data_with_metrics$nh < nh_threshold] ) total_households <- sum(data_with_metrics$households)  cat(sprintf(\"\\nHouseholds with >6%% energy burden: %.1f%%\\n\",             (high_burden_count / total_households) * 100)) #>  #> Households with >6% energy burden: 37.7%"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"key-principles","dir":"Articles","previous_headings":"Summary","what":"Key Principles","title":"Net Energy Return Methodology","text":"Energy burden ratio requires harmonic mean proper aggregation Net Energy Return (Nh) transformation enables arithmetic mean aggregation methods mathematically equivalent give identical results Simpler computation (arithmetic vs harmonic mean) Better numerical stability interpretable (net return per dollar energy spending) Makes improper aggregation obviously wrong","code":""},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"the-correct-formula","dir":"Articles","previous_headings":"Summary","what":"The Correct Formula","title":"Net Energy Return Methodology","text":"aggregation across households:","code":"# Step 1: Calculate Nh for each household/cohort data$nh <- ner_func(data$income, data$spending)  # Step 2: Weighted arithmetic mean nh_mean <- weighted.mean(data$nh, data$weights)  # Step 3: Convert to energy burden eb_aggregate <- 1 / (1 + nh_mean)"},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"common-mistakes-to-avoid","dir":"Articles","previous_headings":"Summary","what":"Common Mistakes to Avoid","title":"Net Energy Return Methodology","text":"‚ùå NEVER : ‚úÖ ALWAYS :","code":"# WRONG: Arithmetic mean of energy burden eb_wrong <- weighted.mean(energy_burden_func(income, spending), weights) # CORRECT: Nh method with arithmetic mean, then convert nh <- ner_func(income, spending) nh_mean <- weighted.mean(nh, weights) eb_correct <- 1 / (1 + nh_mean)"},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Net Energy Return Methodology","text":"quick reference guide, see NEB_QUICKSTART.md package repository. practical examples real data, see vignette(\"getting-started\").","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/articles/methodology.html","id":"identity-proofs","dir":"Articles","previous_headings":"Mathematical Appendix","what":"Identity Proofs","title":"Net Energy Return Methodology","text":"Proof NEB = EB household level: Nh=G‚àíSS\\text{Nh} = \\frac{G - S}{S} NEB=11+Nh=11+G‚àíSS=1S+G‚àíSS=1GS=SG=EB\\text{NEB} = \\frac{1}{1 + \\text{Nh}} = \\frac{1}{1 + \\frac{G-S}{S}} = \\frac{1}{\\frac{S + G - S}{S}} = \\frac{1}{\\frac{G}{S}} = \\frac{S}{G} = \\text{EB} Proof harmonic mean EB equals arithmetic mean via Nh: weighted aggregation weights wiw_i: EBharmonic=1‚àëiwi‚ãÖ1EBi\\text{EB}_{\\text{harmonic}} = \\frac{1}{\\sum_i w_i \\cdot \\frac{1}{\\text{EB}_i}} Since EBi=Si/Gi\\text{EB}_i = S_i / G_i: EBharmonic=1‚àëiwi‚ãÖGiSi\\text{EB}_{\\text{harmonic}} = \\frac{1}{\\sum_i w_i \\cdot \\frac{G_i}{S_i}} Now via Nh method: Nhi=Gi‚àíSiSi=GiSi‚àí1\\text{Nh}_i = \\frac{G_i - S_i}{S_i} = \\frac{G_i}{S_i} - 1 Nh¬Ø=‚àëiwi‚ãÖNhi\\overline{\\text{Nh}} = \\sum_i w_i \\cdot \\text{Nh}_i EBvia Nh=11+Nh¬Ø=11+‚àëiwi‚ãÖ(GiSi‚àí1)\\text{EB}_{\\text{via Nh}} = \\frac{1}{1 + \\overline{\\text{Nh}}} = \\frac{1}{1 + \\sum_i w_i \\cdot \\left(\\frac{G_i}{S_i} - 1\\right)} =1‚àëiwi‚ãÖGiSi‚àí‚àëiwi+1= \\frac{1}{\\sum_i w_i \\cdot \\frac{G_i}{S_i} - \\sum_i w_i + 1} weights normalized (‚àëiwi=1\\sum_i w_i = 1), simplifies : =1‚àëiwi‚ãÖGiSi=EBharmonic= \\frac{1}{\\sum_i w_i \\cdot \\frac{G_i}{S_i}} = \\text{EB}_{\\text{harmonic}} Therefore, methods mathematically equivalent. ‚àé","code":""},{"path":"https://ericscheier.github.io/emburden/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Eric Scheier. Author, maintainer.","code":""},{"path":"https://ericscheier.github.io/emburden/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Scheier, Eric (2025). emburden: Energy Burden Analysis Using Net Energy Return Methodology. R package version 0.2.0. https://github.com/ericscheier/emburden Scheier, Eric (2025). Net energy metrics reveal striking disparities across United States household energy burdens. Manuscript preparation.","code":"@Manual{,   title = {{emburden}: Energy Burden Analysis Using Net Energy Return Methodology},   author = {Eric Scheier},   year = {2025},   note = {R package version 0.2.0},   url = {https://github.com/ericscheier/emburden}, } @Article{,   title = {Net energy metrics reveal striking disparities across United States household energy burdens},   author = {Eric Scheier},   journal = {In preparation},   year = {2025},   note = {Manuscript in preparation}, }"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"emburden","dir":"","previous_headings":"","what":"Energy Burden Analysis with Net Energy Return","title":"Energy Burden Analysis with Net Energy Return","text":"R package analyzing household energy burden - percentage income spent energy costs.","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Energy Burden Analysis with Net Energy Return","text":"emburden provides tools calculating analyzing household energy burden across different geographic areas demographic groups. package helps aggregate energy burden data accurately using Net Energy Return (Nh) method described Scheier & Kittner (2022). NEW: Data downloads automatically OpenEI first use! manual setup required.","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"key-features","dir":"","previous_headings":"Overview","what":"Key Features","title":"Energy Burden Analysis with Net Energy Return","text":"Energy metrics calculations: Energy burden, Net Energy Return (Nh), EROI, DEAR Weighted statistical analysis: Proper aggregation using household weights Flexible grouping: Analyze utility, state, county, census tract, custom categories Publication-ready formatting: Functions creating formatted tables multiple output formats","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"why-net-energy-return","dir":"","previous_headings":"Overview","what":"Why Net Energy Return?","title":"Energy Burden Analysis with Net Energy Return","text":"calculating energy burden single household, ‚Äôs straightforward: divide energy spending income. combining data many households, simply averaging percentages can introduce errors. challenge: Energy burden ratio (spending √∑ income), ratios don‚Äôt behave well simple averages. example, one household spends $100 $1,000 income (10%) another spends $50 $10,000 income (0.5%), simple average 5.25% doesn‚Äôt accurately represent combined situation. solution: Net Energy Return (Nh) method transforms data can use standard averaging techniques, converts back energy burden. Think Nh ‚Äúmuch money left energy costs, per dollar spent energy.‚Äù transformation makes aggregation accurate interpretable. matters: - ‚úì Combining data many individual households - ‚úì Calculating regional demographic averages - single households, methods give identical results methodology detailed Scheier & Kittner (2022) - see Citation .","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Energy Burden Analysis with Net Energy Return","text":"can install development version emburden GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"ericscheier/emburden\")"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Energy Burden Analysis with Net Energy Return","text":"","code":"library(emburden) library(dplyr)  # Data downloads automatically on first use! # Load census tract data for North Carolina nc_tracts <- load_census_tract_data(states = \"NC\")  # Load household cohort data by Area Median Income nc_ami <- load_cohort_data(dataset = \"ami\", states = \"NC\")  # === EXAMPLE 1: Single household calculation === gross_income <- 50000 energy_spending <- 3000  # Method 1: Direct energy burden eb <- energy_burden_func(gross_income, energy_spending)  # 0.06  # Method 2: Via Net Energy Return (mathematically identical) nh <- ner_func(gross_income, energy_spending)  # 15.67 neb <- 1 / (nh + 1)  # 0.06 (same as eb)  # === EXAMPLE 2: Individual household data aggregation === # Recommended: Use Nh method for accurate aggregation incomes <- c(30000, 50000, 75000) spendings <- c(3000, 3500, 4000) households <- c(100, 150, 200)  nh <- ner_func(incomes, spendings) nh_mean <- weighted.mean(nh, households) neb_aggregate <- 1 / (1 + nh_mean)  # Note: Direct averaging of energy burden values can introduce errors # neb_naive <- weighted.mean(energy_burden_func(incomes, spendings), households)  # === EXAMPLE 3: Cohort data aggregation === # For pre-aggregated totals, you can use the direct ratio neb_cohort <- sum(nc_ami$total_electricity_spend) / sum(nc_ami$total_income)  # === EXAMPLE 4: Grouped analysis === results <- calculate_weighted_metrics(   graph_data = nc_ami,   group_columns = \"income_bracket\",   metric_name = \"ner\",   metric_cutoff_level = 15.67,  # 6% energy burden threshold   upper_quantile_view = 0.95,   lower_quantile_view = 0.05 )  # Format results for publication library(scales) results$formatted_median <- to_percent(results$metric_median)  # === EXAMPLE 5: Temporal comparison === # Compare energy burden between 2018 and 2022 comparison <- compare_energy_burden(   dataset = \"ami\",   states = \"NC\",   group_by = \"income_bracket\"  # Options: \"income_bracket\", \"state\", \"none\" )  # View results print(comparison)  # Access specific columns comparison$neb_2018  # 2018 energy burden comparison$neb_2022  # 2022 energy burden comparison$neb_change_pp  # Change in percentage points"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/index.html","id":"energy-metrics","dir":"","previous_headings":"Core Functions","what":"Energy Metrics","title":"Energy Burden Analysis with Net Energy Return","text":"Household-level calculations (mathematically related): - energy_burden_func(g, s) - Energy Burden: S/G - neb_func(g, s) - Net Energy Burden: S/G (identical EB, emphasizes proper aggregation) - ner_func(g, s) - Net Energy Return: (G-S)/S (use aggregation!) - eroi_func(g, s) - Energy Return Investment: G/Se - dear_func(g, s) - Disposable Energy-Adjusted Resources: (G-S)/G Key relationships: - household level: neb_func() == energy_burden_func() (identical) - Transformation: neb = 1/(1+nh) nh = (1/neb) - 1 - 6% energy burden threshold ‚ÜîÔ∏é Nh ‚â• 15.67 Aggregation guidance: - Individual household data: Calculate nh <- ner_func(income, spending), neb_aggregate <- 1/(1 + weighted.mean(nh, weights)) - Cohort data (pre-aggregated totals): Calculate neb <- sum(total_spending) / sum(total_income) - Note: Direct averaging energy burden values (weighted.mean(neb_func(...))) can introduce errors; use Nh method individual household data","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"statistical-analysis","dir":"","previous_headings":"Core Functions","what":"Statistical Analysis","title":"Energy Burden Analysis with Net Energy Return","text":"calculate_weighted_metrics() - Weighted mean, median, quantiles grouping Automatically calculates poverty rates specified thresholds Handles missing data small sample sizes","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"temporal-comparison","dir":"","previous_headings":"Core Functions","what":"Temporal Comparison","title":"Energy Burden Analysis with Net Energy Return","text":"compare_energy_burden() - Compare energy burden across data vintages (2018 vs 2022) Automatically handles schema differences vintages Proper Nh-based aggregation built-Grouping options: \"income_bracket\", \"state\", \"none\"","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"formatting","dir":"","previous_headings":"Core Functions","what":"Formatting","title":"Energy Burden Analysis with Net Energy Return","text":"to_percent() - Format percentage optional LaTeX escaping to_dollar() - Format currency to_big() - Format large numbers thousand separators to_million() / to_billion_dollar() - Compact formats large values","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"project-structure","dir":"","previous_headings":"","what":"Project Structure","title":"Energy Burden Analysis with Net Energy Return","text":"repository contains R package analysis code: package designed extractable separate repository analysis scripts remain depend installed package.","code":"net_energy_equity/ ‚îú‚îÄ‚îÄ R/                      # Package source code (exportable) ‚îÇ   ‚îú‚îÄ‚îÄ energy_ratios.R     # Energy metric calculations ‚îÇ   ‚îú‚îÄ‚îÄ metrics.R           # Weighted statistical functions ‚îÇ   ‚îî‚îÄ‚îÄ formatting.R        # Output formatting utilities ‚îú‚îÄ‚îÄ analysis/               # Analysis scripts and outputs (not in package) ‚îÇ   ‚îú‚îÄ‚îÄ scripts/            # Example analysis scripts ‚îÇ   ‚îî‚îÄ‚îÄ outputs/            # Generated tables and results ‚îú‚îÄ‚îÄ DESCRIPTION             # Package metadata ‚îú‚îÄ‚îÄ NAMESPACE               # Package exports ‚îî‚îÄ‚îÄ README.md               # This file"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"example-analysis","dir":"","previous_headings":"","what":"Example Analysis","title":"Energy Burden Analysis with Net Energy Return","text":"See analysis/scripts/ complete examples: nc_all_utilities_energy_burden.R: Analyze NC electric utilities nc_cooperatives_energy_burden.R: Focus NC electric cooperatives all_utilities_energy_burden.R: National-level analysis Run project root:","code":"# Load package for development devtools::load_all()  # Data downloads automatically on first use! # Run analysis source(\"analysis/scripts/nc_all_utilities_energy_burden.R\")  # View outputs in analysis/outputs/"},{"path":[]},{"path":"https://ericscheier.github.io/emburden/index.html","id":"automatic-data-download","dir":"","previous_headings":"Data Requirements","what":"Automatic Data Download","title":"Energy Burden Analysis with Net Energy Return","text":"package automatically downloads LEAD Tool data OpenEI first use caches locally fast subsequent access. manual data setup required! NEW v0.3.0: Support 2018 2022 LEAD Tool data vintages enables temporal analysis. Loading data (automatic database/CSV/OpenEI download fallback): Data Loading Workflow: first use, load_cohort_data() automatically: 1. Tries local database fast access 2. Falls back local CSV files database unavailable 3. Downloads OpenEI (DOE LEAD dataset) neither exists 4. Imports database automatically subsequent fast access 5. Returns requested data - manual steps required! Data sources: - OpenEI 2018: https://data.openei.org/submissions/573 (4 AMI brackets) - OpenEI 2022: https://data.openei.org/submissions/6219 (6 AMI brackets) See data-raw/README.md complete migration documentation data-raw/LEAD_SCHEMA_COMPARISON.md vintage differences.","code":"library(emburden)  # Check which data source is available check_data_sources()  # Load census tract data (tries database ‚Üí CSV ‚Üí automatic download) nc_tracts <- load_census_tract_data(states = \"NC\")  # Load household cohort data (defaults to latest vintage - 2022) # Auto-downloads from OpenEI on first use, imports to database for fast subsequent access! nc_ami <- load_cohort_data(dataset = \"ami\", states = \"NC\")  # Load specific vintage (2018 or 2022) nc_ami_2018 <- load_cohort_data(dataset = \"ami\", states = \"NC\", vintage = \"2018\") nc_ami_2022 <- load_cohort_data(dataset = \"ami\", states = \"NC\", vintage = \"2022\")  # Compare vintages for temporal analysis comparison <- compare_energy_burden(dataset = \"ami\", states = \"NC\", group_by = \"state\")"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"legacy-csv-files","dir":"","previous_headings":"Data Requirements","what":"Legacy CSV Files","title":"Energy Burden Analysis with Net Energy Return","text":"backward compatibility, package still supports CSV files: CensusTractData.csv - Census tract demographics utility info CohortData_AreaMedianIncome.csv - Energy burden Area Median Income brackets CohortData_FederalPovertyLine.csv - Energy burden Federal Poverty Line brackets files large (>100MB ) included git. Contact maintainer access use database (recommended).","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"energy-poverty-threshold","dir":"","previous_headings":"","what":"Energy Poverty Threshold","title":"Energy Burden Analysis with Net Energy Return","text":"standard 6% energy burden threshold corresponds : Energy Burden: E_b ‚â§ 0.06 Net Energy Return: Nh ‚â§ 15.67 EROI: EROI ‚â• 16.67 Use ner_func(g = 1, s = 0.06) calculate Nh threshold energy burden level.","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Energy Burden Analysis with Net Energy Return","text":"use package methodology research, please cite: Scheier, E., & Kittner, N. (2022). measurement strategy address disparities across household energy burdens. Nature Communications, 13, 1717. https://doi.org/10.1038/s41467-021-27673-y BibTeX:","code":"@article{scheier2022measurement,   title={A measurement strategy to address disparities across household energy burdens},   author={Scheier, Eric and Kittner, Noah},   journal={Nature Communications},   volume={13},   number={1},   pages={1717},   year={2022},   publisher={Nature Publishing Group},   doi={10.1038/s41467-021-27673-y} }"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Energy Burden Analysis with Net Energy Return","text":"GNU Affero General Public License v3.0 later (AGPL-3+) See LICENSE full text.","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Energy Burden Analysis with Net Energy Return","text":"Contributions welcome! Please: Fork repository Create feature branch Make changes tests documentation Submit pull request","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"issues","dir":"","previous_headings":"","what":"Issues","title":"Energy Burden Analysis with Net Energy Return","text":"Report bugs request features : https://github.com/ericscheier/emburden/issues","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"development","dir":"","previous_headings":"","what":"Development","title":"Energy Burden Analysis with Net Energy Return","text":"","code":"# Load package during development devtools::load_all()  # Run tests devtools::test()  # Check package devtools::check()  # Build documentation devtools::document()  # Install locally devtools::install()"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"database-integration","dir":"","previous_headings":"","what":"Database Integration","title":"Energy Burden Analysis with Net Energy Return","text":"package supports local SQLite database integration enhanced analysis improved performance:","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"whats-available","dir":"","previous_headings":"Database Integration","what":"What‚Äôs Available","title":"Energy Burden Analysis with Net Energy Return","text":"Energy Burden Data (new v0.2.0): - Census tract demographics - 72K tracts utility service territory info - Household cohort energy burden - 2.4M cohorts income/tenure/housing type - Area Median Income (AMI) brackets - Income relative local median - Federal Poverty Line (FPL) brackets - Income relative poverty threshold Utility & Market Data: - Utility electricity rates ZIP code - eGrid emissions subregions environmental justice analysis - Geographic crosswalks (tract ‚ÜîÔ∏é ZIP ‚ÜîÔ∏é county) - State retail sales projections (1998-2050) - Renewable generator registry","code":""},{"path":"https://ericscheier.github.io/emburden/index.html","id":"installation-1","dir":"","previous_headings":"Database Integration","what":"Installation","title":"Energy Burden Analysis with Net Energy Return","text":"","code":"# Install database packages install.packages(c(\"DBI\", \"RSQLite\"))  # Optional: Set environment variable to use existing database # Sys.setenv(EMBURDEN_DB_PATH = \"/path/to/your/database.sqlite\")"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"usage","dir":"","previous_headings":"Database Integration","what":"Usage","title":"Energy Burden Analysis with Net Energy Return","text":"Energy Burden Data (automatic database/CSV/download fallback): Utility Rate Data (requires database connection):","code":"library(emburden)  # Load census tract data (tries database ‚Üí CSV ‚Üí automatic download) nc_tracts <- load_census_tract_data(states = \"NC\")  # Load household cohort data by income bracket # Downloads automatically if not available locally! nc_ami <- load_cohort_data(   dataset = \"ami\",  # or \"fpl\"   states = \"NC\",   income_brackets = c(\"0-30% AMI\", \"30-50% AMI\") )  # Load integrated data (burden + utility rates + emissions) nc_full <- load_burden_with_utilities(   states = \"NC\",   dataset = \"ami\",   income_brackets = \"0-30% AMI\" ) # Connect to database (if available) # Database integration requires separate setup - see Database Integration section # conn <- DBI::dbConnect(RSQLite::SQLite(), \"/path/to/database.sqlite\")  # Get utility rates for North Carolina (requires database connection) # nc_rates <- get_utility_rates(conn, state = \"NC\")  # Get emissions regions egrid <- get_egrid_regions(conn, zips = c(27701, 27705, 28052))  # Get retail sales projections sales <- get_retail_sales_projections(conn, states = \"NC\", years = 2020:2030)  # Always disconnect when done DBI::dbDisconnect(conn)"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"example-analyses","dir":"","previous_headings":"Database Integration","what":"Example Analyses","title":"Energy Burden Analysis with Net Energy Return","text":"See vignette complete examples: example script: Benefits: - Faster data access - Database queries 10-50x faster CSV parsing - Integrated analysis - Join burden data utility rates emissions single query - Flexible filtering - Query needed states/income brackets instead loading full CSVs - Environmental justice - Link high-burden areas high-emissions grid regions - Policy modeling - Scenario analysis utility rate structures demand projections","code":"vignette(\"integrating-utility-data\", package = \"emburden\") source(\"analysis/scripts/utility_rate_comparison.R\")"},{"path":"https://ericscheier.github.io/emburden/index.html","id":"related-resources","dir":"","previous_headings":"","what":"Related Resources","title":"Energy Burden Analysis with Net Energy Return","text":"Paper: ‚ÄúNet energy metrics reveal striking disparities across United States household energy burdens‚Äù Data Source: DOE Low-Income Energy Affordability Data (LEAD) Tool via OpenEI Methodology: See package vignettes","code":""},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"Calculates weighted statistical metrics (mean, median, quantiles) specified energy metric, optional grouping geographic demographic categories. primary function aggregating household-level energy burden data using proper weighting household counts.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"","code":"calculate_weighted_metrics(   graph_data,   group_columns,   metric_name,   metric_cutoff_level,   upper_quantile_view = 1,   lower_quantile_view = 0 )"},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"graph_data data frame containing household energy burden data columns metric interest, household counts, optional grouping variables group_columns Character vector column names group , NULL grouping (calculates overall statistics) metric_name Character string specifying column name metric analyze (e.g., \"ner\" Net Energy Return) metric_cutoff_level Numeric value defining poverty threshold metric (e.g., 15.67 Nh corresponding 6% energy burden) upper_quantile_view Numeric 0 1 specifying upper quantile calculate (default: 1.0 maximum) lower_quantile_view Numeric 0 1 specifying lower quantile calculate (default: 0.0 minimum)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"data frame one row per group (one row ungrouped) containing: household_count Total number households group households_below_cutoff Number households poverty threshold pct_in_group_below_cutoff Proportion group threshold metric_mean Weighted mean metric metric_median Weighted median metric metric_upper Upper quantile value metric_lower Lower quantile value metric_max Maximum value group metric_min Minimum value group","code":""},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"function requires spatstat package weighted quantile calculations. automatically handles missing values ensures statistics calculated sufficient data points exist (n >= 3). function adds \"\" category row aggregates across groups, addition individual group statistics.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/calculate_weighted_metrics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Weighted Metrics for Energy Burden Analysis ‚Äî calculate_weighted_metrics","text":"","code":"if (FALSE) { # \\dontrun{ # Calculate metrics for NC cooperatives using Nh library(dplyr)  # Sample data data <- data.frame(   cooperative = rep(c(\"Coop A\", \"Coop B\"), each = 3),   ner = c(20, 15, 25, 18, 22, 12),   households = c(1000, 500, 750, 900, 600, 400) )  # Calculate weighted metrics by cooperative results <- calculate_weighted_metrics(   graph_data = data,   group_columns = \"cooperative\",   metric_name = \"ner\",   metric_cutoff_level = 15.67,   upper_quantile_view = 0.95,   lower_quantile_view = 0.05 ) } # }"},{"path":"https://ericscheier.github.io/emburden/reference/check_data_sources.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Available Data Sources ‚Äî check_data_sources","title":"Check Available Data Sources ‚Äî check_data_sources","text":"Check data sources available locally (database, CSV files, require download OpenEI).","code":""},{"path":"https://ericscheier.github.io/emburden/reference/check_data_sources.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Available Data Sources ‚Äî check_data_sources","text":"","code":"check_data_sources(verbose = TRUE)"},{"path":"https://ericscheier.github.io/emburden/reference/check_data_sources.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Available Data Sources ‚Äî check_data_sources","text":"verbose Logical, print detailed status (default TRUE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/check_data_sources.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Available Data Sources ‚Äî check_data_sources","text":"list status data source","code":""},{"path":"https://ericscheier.github.io/emburden/reference/check_data_sources.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Available Data Sources ‚Äî check_data_sources","text":"","code":"if (FALSE) { # \\dontrun{ # Check what data is available check_data_sources() } # }"},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":null,"dir":"Reference","previous_headings":"","what":"Colorize Text for Knitted Documents ‚Äî colorize","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"Wraps text color formatting appropriate output format (LaTeX HTML). function intended use within R Markdown/knitr documents.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"","code":"colorize(x, color)"},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"x Character string colorize color Character string specifying color name (e.g., \"red\", \"blue\")","code":""},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"Character string wrapped LaTeX HTML color commands, unchanged output format neither","code":""},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"function detects knitr output format applies appropriate color formatting. LaTeX output, uses \\\\textcolor{}. HTML output, uses <span style='color: ...'>.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/colorize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Colorize Text for Knitted Documents ‚Äî colorize","text":"","code":"if (FALSE) { # \\dontrun{ # In an R Markdown document: colorize(\"Important text\", \"red\") } # }"},{"path":"https://ericscheier.github.io/emburden/reference/compare_energy_burden.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","title":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","text":"Compare household energy burden metrics across different data vintages, using proper Net Energy Return (Nh) aggregation methodology.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/compare_energy_burden.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","text":"","code":"compare_energy_burden(   dataset = c(\"ami\", \"fpl\"),   states = NULL,   group_by = c(\"income_bracket\", \"state\", \"none\"),   vintage_1 = \"2018\",   vintage_2 = \"2022\",   format = TRUE )"},{"path":"https://ericscheier.github.io/emburden/reference/compare_energy_burden.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","text":"dataset Character, either \"ami\" \"fpl\" cohort data type states Character vector state abbreviations filter (optional) group_by Character, grouping variable: \"income_bracket\" (default), \"state\", \"none\" overall comparison vintage_1 Character, first vintage year: \"2018\" \"2022\" (default \"2018\") vintage_2 Character, second vintage year: \"2018\" \"2022\" (default \"2022\") format Logical, TRUE returns formatted percentages (default TRUE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/compare_energy_burden.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","text":"data.frame energy burden comparison showing: neb_YYYY: Net Energy Burden vintage (YYYY year) change_pp: Absolute change percentage points change_pct: Relative percent change","code":""},{"path":"https://ericscheier.github.io/emburden/reference/compare_energy_burden.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare Energy Burden Between Years ‚Äî compare_energy_burden","text":"","code":"if (FALSE) { # \\dontrun{ # Compare NC energy burden by income bracket (2018 vs 2022) compare_energy_burden(dataset = \"ami\", states = \"NC\")  # State-level comparison compare_energy_burden(dataset = \"ami\", states = \"NC\", group_by = \"state\")  # Overall comparison (no grouping) compare_energy_burden(dataset = \"fpl\", states = c(\"NC\", \"SC\"), group_by = \"none\")  # Custom vintage comparison compare_energy_burden(dataset = \"ami\", states = \"CA\",                      vintage_1 = \"2018\", vintage_2 = \"2022\") } # }"},{"path":"https://ericscheier.github.io/emburden/reference/dear_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","title":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","text":"Calculates DEAR ratio net income energy spending gross income. DEAR = (G - S) / G.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/dear_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","text":"","code":"dear_func(g, s, se = NULL)"},{"path":"https://ericscheier.github.io/emburden/reference/dear_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","text":"g Numeric vector gross income values s Numeric vector energy spending values se Optional numeric vector effective energy spending (defaults s)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/dear_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","text":"Numeric vector DEAR values (ratio disposable income gross income)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/dear_func.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Disposable Energy-Adjusted Resources (DEAR) ‚Äî dear_func","text":"","code":"# Calculate DEAR dear_func(50000, 3000) #> [1] 0.94"},{"path":"https://ericscheier.github.io/emburden/reference/download_census_tract_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download census tract data from OpenEI ‚Äî download_census_tract_data","title":"Download census tract data from OpenEI ‚Äî download_census_tract_data","text":"Download census tract data OpenEI","code":""},{"path":"https://ericscheier.github.io/emburden/reference/download_census_tract_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download census tract data from OpenEI ‚Äî download_census_tract_data","text":"","code":"download_census_tract_data(verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/download_lead_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download LEAD data from OpenEI ‚Äî download_lead_data","title":"Download LEAD data from OpenEI ‚Äî download_lead_data","text":"Download LEAD data OpenEI","code":""},{"path":"https://ericscheier.github.io/emburden/reference/download_lead_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download LEAD data from OpenEI ‚Äî download_lead_data","text":"","code":"download_lead_data(dataset, vintage, states = NULL, verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/emburden-package.html","id":null,"dir":"Reference","previous_headings":"","what":"emburden: Energy Burden Analysis Using Net Energy Return Methodology ‚Äî emburden-package","title":"emburden: Energy Burden Analysis Using Net Energy Return Methodology ‚Äî emburden-package","text":"Provides tools calculating analyzing household energy burden using Net Energy Return (Nh) aggregation methodology. Functions support weighted statistical calculations across geographic demographic cohorts, utilities formatting results publication-ready tables. Based methods \"Net energy metrics reveal striking disparities across United States household energy burdens\".","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/reference/emburden-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"emburden: Energy Burden Analysis Using Net Energy Return Methodology ‚Äî emburden-package","text":"Maintainer: Eric Scheier eric.scheier@gmail.com","code":""},{"path":"https://ericscheier.github.io/emburden/reference/energy_burden_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Energy Burden ‚Äî energy_burden_func","title":"Calculate Energy Burden ‚Äî energy_burden_func","text":"Calculates energy burden ratio energy spending gross income. Energy burden defined E_b = S/G, S energy spending G gross income.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/energy_burden_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Energy Burden ‚Äî energy_burden_func","text":"","code":"energy_burden_func(g, s, se = NULL)"},{"path":"https://ericscheier.github.io/emburden/reference/energy_burden_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Energy Burden ‚Äî energy_burden_func","text":"g Numeric vector gross income values s Numeric vector energy spending values se Optional numeric vector effective energy spending (defaults s)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/energy_burden_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Energy Burden ‚Äî energy_burden_func","text":"Numeric vector energy burden values (ratio spending income)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/energy_burden_func.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Energy Burden ‚Äî energy_burden_func","text":"","code":"# Calculate energy burden for households gross_income <- c(50000, 75000, 100000) energy_spending <- c(3000, 3500, 4000) energy_burden_func(gross_income, energy_spending) #> [1] 0.06000000 0.04666667 0.04000000"},{"path":"https://ericscheier.github.io/emburden/reference/eroi_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","title":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","text":"Calculates Energy Return Investment ratio gross income effective energy spending. EROI = G/Se.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/eroi_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","text":"","code":"eroi_func(g, s, se = NULL)"},{"path":"https://ericscheier.github.io/emburden/reference/eroi_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","text":"g Numeric vector gross income values s Numeric vector energy spending values se Optional numeric vector effective energy spending (defaults s)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/eroi_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","text":"Numeric vector EROI values","code":""},{"path":"https://ericscheier.github.io/emburden/reference/eroi_func.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Energy Return on Investment (EROI) ‚Äî eroi_func","text":"","code":"# Calculate EROI for households eroi_func(50000, 3000) #> [1] 16.66667"},{"path":"https://ericscheier.github.io/emburden/reference/find_emrgi_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Find emrgi_db.sqlite database ‚Äî find_emrgi_db","title":"Find emrgi_db.sqlite database ‚Äî find_emrgi_db","text":"Find emrgi_db.sqlite database","code":""},{"path":"https://ericscheier.github.io/emburden/reference/find_emrgi_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find emrgi_db.sqlite database ‚Äî find_emrgi_db","text":"","code":"find_emrgi_db()"},{"path":"https://ericscheier.github.io/emburden/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory for downloaded files ‚Äî get_cache_dir","title":"Get cache directory for downloaded files ‚Äî get_cache_dir","text":"Get cache directory downloaded files","code":""},{"path":"https://ericscheier.github.io/emburden/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory for downloaded files ‚Äî get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://ericscheier.github.io/emburden/reference/get_state_fips.html","id":null,"dir":"Reference","previous_headings":"","what":"Get state FIPS codes from abbreviations ‚Äî get_state_fips","title":"Get state FIPS codes from abbreviations ‚Äî get_state_fips","text":"Get state FIPS codes abbreviations","code":""},{"path":"https://ericscheier.github.io/emburden/reference/get_state_fips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get state FIPS codes from abbreviations ‚Äî get_state_fips","text":"","code":"get_state_fips(state_abbrs)"},{"path":"https://ericscheier.github.io/emburden/reference/lead_to_poverty.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate LEAD data by poverty status ‚Äî lead_to_poverty","title":"Aggregate LEAD data by poverty status ‚Äî lead_to_poverty","text":"Consolidates LEAD cohort data poverty status, aggregating households computing weighted averages income spending.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/lead_to_poverty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate LEAD data by poverty status ‚Äî lead_to_poverty","text":"","code":"lead_to_poverty(data, dataset)"},{"path":"https://ericscheier.github.io/emburden/reference/lead_to_poverty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate LEAD data by poverty status ‚Äî lead_to_poverty","text":"data data frame processed LEAD data (output raw_to_lead) dataset Character string indicating income metric: \"ami\", \"fpl\", \"smi\"","code":""},{"path":"https://ericscheier.github.io/emburden/reference/lead_to_poverty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate LEAD data by poverty status ‚Äî lead_to_poverty","text":"data frame aggregated geoid, poverty status, housing attributes","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_census_tract_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Census Tract Data ‚Äî load_census_tract_data","title":"Load Census Tract Data ‚Äî load_census_tract_data","text":"Load census tract demographics utility service territory information automatic fallback CSV OpenEI download.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_census_tract_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Census Tract Data ‚Äî load_census_tract_data","text":"","code":"load_census_tract_data(states = NULL, verbose = TRUE)"},{"path":"https://ericscheier.github.io/emburden/reference/load_census_tract_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Census Tract Data ‚Äî load_census_tract_data","text":"states Character vector state abbreviations filter (optional) verbose Logical, print status messages (default TRUE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_census_tract_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Census Tract Data ‚Äî load_census_tract_data","text":"tibble columns: geoid: Census tract identifier state_abbr: State abbreviation county_name: County name tract_name: Tract name utility_name: Electric utility serving tract Additional demographic columns","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_census_tract_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Census Tract Data ‚Äî load_census_tract_data","text":"","code":"if (FALSE) { # \\dontrun{ # Load all NC census tracts nc_tracts <- load_census_tract_data(states = \"NC\")  # Load multiple states southeast <- load_census_tract_data(states = c(\"NC\", \"SC\", \"GA\")) } # }"},{"path":"https://ericscheier.github.io/emburden/reference/load_cohort_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","title":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","text":"Load household energy burden cohort data automatic fallback: Try local database Fall back local CSV files Auto-download OpenEI neither exists Auto-import downloaded data database future use","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_cohort_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","text":"","code":"load_cohort_data(   dataset = c(\"ami\", \"fpl\"),   states = NULL,   vintage = \"2022\",   income_brackets = NULL,   verbose = TRUE )"},{"path":"https://ericscheier.github.io/emburden/reference/load_cohort_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","text":"dataset Character, either \"ami\" (Area Median Income) \"fpl\" (Federal Poverty Line) states Character vector state abbreviations filter (optional) vintage Character, data vintage: \"2018\" \"2022\" (default \"2022\") income_brackets Character vector income brackets filter (optional) verbose Logical, print status messages (default TRUE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_cohort_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","text":"tibble columns: geoid: Census tract identifier income_bracket: Income bracket label households: Number households total_income: Total household income ($) total_electricity_spend: Total electricity spending ($) total_gas_spend: Total gas spending ($) total_other_spend: Total fuel spending ($) Additional demographic columns depending vintage","code":""},{"path":"https://ericscheier.github.io/emburden/reference/load_cohort_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load DOE LEAD Tool Cohort Data ‚Äî load_cohort_data","text":"","code":"if (FALSE) { # \\dontrun{ # Load latest (2022) NC AMI data - auto-downloads if needed! nc_ami <- load_cohort_data(dataset = \"ami\", states = \"NC\")  # Load specific vintage nc_ami_2018 <- load_cohort_data(dataset = \"ami\", states = \"NC\", vintage = \"2018\")  # Load multiple states southeast <- load_cohort_data(dataset = \"fpl\", states = c(\"NC\", \"SC\", \"GA\"))  # Filter to specific income brackets low_income <- load_cohort_data(   dataset = \"ami\",   states = \"NC\",   income_brackets = c(\"0-30% AMI\", \"30-50% AMI\") ) } # }"},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"Calculates Net Energy Burden ratio energy spending gross income. Note: NEB mathematically identical Energy Burden (EB = S/G). distinction conceptual - \"NEB\" emphasizes proper aggregation methodology used via Net Energy Return (Nh).","code":""},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"","code":"neb_func(g, s, se = NULL)"},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"g Numeric vector gross income values s Numeric vector energy spending values se Optional numeric vector effective energy spending (defaults s)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"Numeric vector Net Energy Burden values (identical energy burden)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"Mathematical Identity: household level, NEB = EB = S/G. aggregation across households: Individual household data: Use ner_func() first, weighted.mean(nh), convert back via neb = 1/(1+nh_mean). uses arithmetic mean instead harmonic mean, providing computational simplicity numerical stability. Cohort data (pre-aggregated totals): Can use direct calculation sum(spending)/sum(income) equivalent Nh method. Never use weighted.mean(neb) weighted.mean(eb) - introduces 1-5% error. \"NEB\" vs \"EB\"? \"Net\" terminology connects Nh (Net Energy Return) framework reminds users use proper aggregation. Mathematically identical, conceptually clarifying.","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/reference/neb_func.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Net Energy Burden (NEB) ‚Äî neb_func","text":"","code":"# Individual household - NEB identical to EB neb_func(50000, 3000)  # 0.06 #> [1] 0.06 energy_burden_func(50000, 3000)  # 0.06 (same) #> [1] 0.06  # For aggregation - use Nh method (individual HH data) incomes <- c(30000, 50000, 75000) spending <- c(3000, 3500, 4000) households <- c(100, 150, 200)  # CORRECT: Via Nh (arithmetic mean) nh <- ner_func(incomes, spending) nh_mean <- weighted.mean(nh, households) neb_correct <- 1 / (1 + nh_mean)  # WRONG: Direct mean of NEB neb_wrong <- weighted.mean(neb_func(incomes, spending), households)  # For cohort data (totals already aggregated) total_income <- c(3000000, 7500000, 15000000) total_spend <- c(300000, 525000, 750000) neb_direct <- sum(total_spend) / sum(total_income)  # Simple and correct"},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Net Energy Return (Nh) ‚Äî ner_func","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"Calculates Net Energy Return using formula Nh = (G - S) / Se, G gross income, S energy spending, Se effective energy spending. metric preferred aggregation variable properly accounts harmonic mean behavior aggregating across households.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"","code":"ner_func(g, s, se = NULL)"},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"g Numeric vector gross income values s Numeric vector energy spending values se Optional numeric vector effective energy spending (defaults s)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"Numeric vector Net Energy Return (Nh) values","code":""},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"Net Energy Return mathematically related energy burden : E_b = 1 / (Nh + 1), equivalently: Nh = (1/E_b) - 1 use Nh aggregation? individual household data, Nh method enables simple arithmetic weighted mean aggregation: Via Nh: neb = 1 / (1 + weighted.mean(nh, weights)) (arithmetic mean) Direct EB: neb = 1 / weighted.mean(1/eb, weights) (harmonic mean) Computational advantages arithmetic mean approach: Simpler compute - Uses standard weighted.mean() function numerically stable - Avoids division small EB values (e.g., 0.01) interpretable - \"Average net return per dollar spent energy\" Prevents errors - Makes obvious use arithmetic mean EB directly cohort data (pre-aggregated totals), direct calculation sum(S)/sum(G) mathematically equivalent Nh method simpler. 6% energy burden poverty threshold corresponds Nh ‚â• 15.67.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/ner_func.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Net Energy Return (Nh) ‚Äî ner_func","text":"","code":"# Calculate Net Energy Return gross_income <- 50000 energy_spending <- 3000 nh <- ner_func(gross_income, energy_spending)  # Convert back to energy burden energy_burden <- 1 / (nh + 1)"},{"path":"https://ericscheier.github.io/emburden/reference/print.energy_burden_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Comparison Summary ‚Äî print.energy_burden_comparison","title":"Print Comparison Summary ‚Äî print.energy_burden_comparison","text":"Pretty-print comparison table compare_energy_burden()","code":""},{"path":"https://ericscheier.github.io/emburden/reference/print.energy_burden_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Comparison Summary ‚Äî print.energy_burden_comparison","text":"","code":"# S3 method for class 'energy_burden_comparison' print(x, ...)"},{"path":"https://ericscheier.github.io/emburden/reference/print.energy_burden_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Comparison Summary ‚Äî print.energy_burden_comparison","text":"x Comparison result compare_energy_burden() ... Additional arguments (used)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/process_lead_cohort_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw LEAD data into analysis-ready format with energy metrics ‚Äî process_lead_cohort_data","title":"Process raw LEAD data into analysis-ready format with energy metrics ‚Äî process_lead_cohort_data","text":"main processing workflow : Converts raw OpenEI data clean format Optionally aggregates poverty status Adds energy burden related metrics Filters zero-energy records","code":""},{"path":"https://ericscheier.github.io/emburden/reference/process_lead_cohort_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw LEAD data into analysis-ready format with energy metrics ‚Äî process_lead_cohort_data","text":"","code":"process_lead_cohort_data(data, dataset, vintage, aggregate_poverty = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/process_lead_cohort_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw LEAD data into analysis-ready format with energy metrics ‚Äî process_lead_cohort_data","text":"data data frame raw LEAD data OpenEI dataset Character string indicating dataset type (\"ami\" \"fpl\") vintage Character string indicating ACS vintage year aggregate_poverty Logical; TRUE, aggregate poverty status level","code":""},{"path":"https://ericscheier.github.io/emburden/reference/process_lead_cohort_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw LEAD data into analysis-ready format with energy metrics ‚Äî process_lead_cohort_data","text":"data frame ready analysis energy metrics","code":""},{"path":"https://ericscheier.github.io/emburden/reference/raw_to_lead.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw LEAD data into clean format ‚Äî raw_to_lead","title":"Process raw LEAD data into clean format ‚Äî raw_to_lead","text":"Converts raw LEAD data downloaded OpenEI standardized clean format suitable analysis. Handles 2016 (SH) 2018+ ACS vintages.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/raw_to_lead.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw LEAD data into clean format ‚Äî raw_to_lead","text":"","code":"raw_to_lead(data, vintage)"},{"path":"https://ericscheier.github.io/emburden/reference/raw_to_lead.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw LEAD data into clean format ‚Äî raw_to_lead","text":"data data frame raw LEAD data OpenEI vintage Character string indicating ACS vintage year (\"2016\", \"2018\", \"2022\", etc.)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/raw_to_lead.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw LEAD data into clean format ‚Äî raw_to_lead","text":"data frame standardized column names: geoid 11-digit census tract GEOID character state_abbr 2-letter state abbreviation (2018+ ) housing_tenure Housing tenure category year_constructed Year building constructed category building_type Building type category min_units Minimum number units building detached Whether building detached (1/0) primary_heating_fuel Primary heating fuel type income_bracket Income bracket category (depends dataset: AMI, FPL, etc.) households Number households income Annual income electricity_spend Annual electricity spending gas_spend Annual gas spending other_spend Annual fuel spending","code":""},{"path":"https://ericscheier.github.io/emburden/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages ‚Äî reexports","title":"Objects exported from other packages ‚Äî reexports","text":"objects imported packages. Follow links see documentation. dplyr %>%","code":""},{"path":"https://ericscheier.github.io/emburden/reference/standardize_cohort_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize cohort column names across vintages ‚Äî standardize_cohort_columns","title":"Standardize cohort column names across vintages ‚Äî standardize_cohort_columns","text":"Standardize cohort column names across vintages","code":""},{"path":"https://ericscheier.github.io/emburden/reference/standardize_cohort_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize cohort column names across vintages ‚Äî standardize_cohort_columns","text":"","code":"standardize_cohort_columns(data, dataset, vintage)"},{"path":"https://ericscheier.github.io/emburden/reference/to_big.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Large Numbers with Thousand Separators ‚Äî to_big","title":"Format Large Numbers with Thousand Separators ‚Äî to_big","text":"Converts numeric values formatted strings thousand separators (commas).","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_big.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Large Numbers with Thousand Separators ‚Äî to_big","text":"","code":"to_big(x)"},{"path":"https://ericscheier.github.io/emburden/reference/to_big.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Large Numbers with Thousand Separators ‚Äî to_big","text":"x Numeric vector format","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_big.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Large Numbers with Thousand Separators ‚Äî to_big","text":"Character vector formatted numbers","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_big.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Large Numbers with Thousand Separators ‚Äî to_big","text":"","code":"# Format large numbers to_big(c(1000, 25000, 1000000)) #> [1] \"1,000\"     \"25,000\"    \"1,000,000\""},{"path":"https://ericscheier.github.io/emburden/reference/to_billion_dollar.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","title":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","text":"Converts large dollar values billions format dollar sign prefix. Values less 1 billion shown millions.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_billion_dollar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","text":"","code":"to_billion_dollar(x, suffix = \" billion\", override_to_k = TRUE)"},{"path":"https://ericscheier.github.io/emburden/reference/to_billion_dollar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","text":"x Numeric vector format suffix Character string append \"billion\" (default: \" billion\") override_to_k Logical (currently unused, kept compatibility)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_billion_dollar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","text":"Character vector formatted dollar amounts \"billion\" \"m\" suffix","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_billion_dollar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Dollar Amounts in Billions ‚Äî to_billion_dollar","text":"","code":"# Format in billions to_billion_dollar(c(5000000, 1000000000, 2500000000)) #> [1] \"$5m\"          \"$1.0 billion\" \"$2.5 billion\""},{"path":"https://ericscheier.github.io/emburden/reference/to_dollar.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Number as Dollar Amount ‚Äî to_dollar","title":"Format Number as Dollar Amount ‚Äî to_dollar","text":"Converts numeric values formatted dollar strings appropriate decimal places thousand separators.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_dollar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Number as Dollar Amount ‚Äî to_dollar","text":"","code":"to_dollar(x, latex = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/to_dollar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Number as Dollar Amount ‚Äî to_dollar","text":"x Numeric vector format latex Logical indicating whether escape dollar sign LaTeX (default: FALSE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_dollar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Number as Dollar Amount ‚Äî to_dollar","text":"Character vector formatted dollar amounts","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_dollar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Number as Dollar Amount ‚Äî to_dollar","text":"","code":"# Format dollar amounts to_dollar(c(1000, 2500.50, 10000)) #> [1] \"$1,000\"  \"$2,500\"  \"$10,000\"  # LaTeX-escaped format to_dollar(c(1000, 2500.50), latex = TRUE) #> [1] \"\\\\$1,000\" \"\\\\$2,500\""},{"path":"https://ericscheier.github.io/emburden/reference/to_million.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Numbers in Millions ‚Äî to_million","title":"Format Numbers in Millions ‚Äî to_million","text":"Converts large numeric values millions format appropriate suffix. Values less 1 million shown thousands.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_million.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Numbers in Millions ‚Äî to_million","text":"","code":"to_million(x, suffix = \" million\", override_to_k = TRUE)"},{"path":"https://ericscheier.github.io/emburden/reference/to_million.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Numbers in Millions ‚Äî to_million","text":"x Numeric vector format suffix Character string append \"million\" (default: \" million\") override_to_k Logical indicating whether show values < 1M thousands (default: TRUE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_million.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Numbers in Millions ‚Äî to_million","text":"Character vector formatted numbers \"million\" \"k\" suffix","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_million.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Numbers in Millions ‚Äî to_million","text":"","code":"# Format in millions to_million(c(5000, 1000000, 2500000)) #> [1] \"5k\"          \"1.0 million\" \"2.5 million\""},{"path":"https://ericscheier.github.io/emburden/reference/to_percent.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Number as Percentage ‚Äî to_percent","title":"Format Number as Percentage ‚Äî to_percent","text":"Converts numeric values formatted percentage strings decimal places default.","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_percent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Number as Percentage ‚Äî to_percent","text":"","code":"to_percent(x, latex = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/to_percent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Number as Percentage ‚Äî to_percent","text":"x Numeric vector format (proportions, percentages) latex Logical indicating whether escape percent sign LaTeX (default: FALSE)","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_percent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Number as Percentage ‚Äî to_percent","text":"Character vector formatted percentages","code":""},{"path":"https://ericscheier.github.io/emburden/reference/to_percent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Number as Percentage ‚Äî to_percent","text":"","code":"# Format percentages to_percent(c(0.25, 0.50, 0.123)) #> [1] \"25%\" \"50%\" \"12%\"  # LaTeX-escaped format to_percent(c(0.25, 0.50), latex = TRUE) #> [1] \"25\\\\%\" \"50\\\\%\""},{"path":"https://ericscheier.github.io/emburden/reference/try_import_to_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to import cohort data to database ‚Äî try_import_to_database","title":"Try to import cohort data to database ‚Äî try_import_to_database","text":"Try import cohort data database","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_import_to_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to import cohort data to database ‚Äî try_import_to_database","text":"","code":"try_import_to_database(data, dataset, vintage, verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/try_import_tracts_to_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to import census tract data to database ‚Äî try_import_tracts_to_database","title":"Try to import census tract data to database ‚Äî try_import_tracts_to_database","text":"Try import census tract data database","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_import_tracts_to_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to import census tract data to database ‚Äî try_import_tracts_to_database","text":"","code":"try_import_tracts_to_database(data, verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/try_load_from_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to load cohort data from CSV ‚Äî try_load_from_csv","title":"Try to load cohort data from CSV ‚Äî try_load_from_csv","text":"Try load cohort data CSV","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_load_from_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to load cohort data from CSV ‚Äî try_load_from_csv","text":"","code":"try_load_from_csv(dataset, vintage, verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/try_load_from_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to load cohort data from database ‚Äî try_load_from_database","title":"Try to load cohort data from database ‚Äî try_load_from_database","text":"Try load cohort data database","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_load_from_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to load cohort data from database ‚Äî try_load_from_database","text":"","code":"try_load_from_database(dataset, vintage, verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/try_load_tracts_from_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to load census tract data from CSV ‚Äî try_load_tracts_from_csv","title":"Try to load census tract data from CSV ‚Äî try_load_tracts_from_csv","text":"Try load census tract data CSV","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_load_tracts_from_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to load census tract data from CSV ‚Äî try_load_tracts_from_csv","text":"","code":"try_load_tracts_from_csv(verbose = FALSE)"},{"path":"https://ericscheier.github.io/emburden/reference/try_load_tracts_from_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Try to load census tract data from database ‚Äî try_load_tracts_from_database","title":"Try to load census tract data from database ‚Äî try_load_tracts_from_database","text":"Try load census tract data database","code":""},{"path":"https://ericscheier.github.io/emburden/reference/try_load_tracts_from_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try to load census tract data from database ‚Äî try_load_tracts_from_database","text":"","code":"try_load_tracts_from_database(verbose = FALSE)"},{"path":[]},{"path":[]},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"jss-manuscript-vignette-0-2-0","dir":"Changelog","previous_headings":"New Features","what":"JSS Manuscript Vignette","title":"emburden 0.2.0","text":"vignettes/jss-emburden.Rmd - Complete JSS article format Demonstrates package usage reproducible examples Includes bibliography proper JSS formatting Test suite ensures vignette builds correctly CI research/manuscripts/jss-draft/ - LaTeX build output research/manuscripts/build-jss.R - Build script PDF generation Separate vignettes flexible editing workflow","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"enhanced-temporal-comparison-0-2-0","dir":"Changelog","previous_headings":"New Features","what":"Enhanced Temporal Comparison","title":"emburden 0.2.0","text":"README now includes temporal comparison section (Example 5) Getting Started vignette comprehensive temporal comparison section JSS vignette demonstrates function instead manual calculations Replaces 37-line manual comparison elegant 12-line function call","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"emburden 0.2.0","text":"Added validation skip files missing -NA income_bracket columns Loader now properly falls raw OpenEI files complete data Prevents ‚ÄúElement income_bracket doesn‚Äôt exist‚Äù errors","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"documentation-improvements-0-2-0","dir":"Changelog","previous_headings":"","what":"Documentation Improvements","title":"emburden 0.2.0","text":"README.md - Added temporal comparison section vignettes/jss-emburden.Rmd - Replaced manual code function call vignettes/getting-started.Rmd - Added comprehensive section analysis/scripts/nc_comparison_for_email.R - Complete rewrite (179‚Üí144 lines) data-raw/README.md - Fixed function references research/manuscripts/jss-draft/jss-emburden.Rmd - Updated examples Vignette appears website navigation Organized ‚ÄúPackage Documentation‚Äù section","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"infrastructure-0-2-0","dir":"Changelog","previous_headings":"","what":"Infrastructure","title":"emburden 0.2.0","text":".git/hooks/pre-commit - Runs 238 tests commit Prevents committing broken code Can bypassed ---verify needed","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"internal-changes-0-2-0","dir":"Changelog","previous_headings":"","what":"Internal Changes","title":"emburden 0.2.0","text":"Better handling incomplete processed CSV files informative verbose messaging","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"documentation-and-infrastructure-improvements-0-1-1","dir":"Changelog","previous_headings":"","what":"Documentation and Infrastructure Improvements","title":"emburden 0.1.1","text":"patch release improves documentation accessibility workflow infrastructure, code changes.","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"documentation-0-1-1","dir":"Changelog","previous_headings":"Documentation and Infrastructure Improvements","what":"Documentation","title":"emburden 0.1.1","text":"Simplified technical language plain-language explanations Replaced prescriptive language (‚ÄúWRONG‚Äù, ‚ÄúNEVER‚Äù) educational tone (‚ÄúRecommended‚Äù, ‚ÄúNote‚Äù) Added concrete examples explaining simple averaging ratios fails Scheier, E., & Kittner, N. (2022). measurement strategy address disparities across household energy burdens Includes BibTeX format easy reference","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"infrastructure-0-1-1","dir":"Changelog","previous_headings":"Documentation and Infrastructure Improvements","what":"Infrastructure","title":"emburden 0.1.1","text":"Automated commits now appear maintainer commits","code":""},{"path":[]},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"package-release-0-1-0","dir":"Changelog","previous_headings":"","what":"Package Release","title":"emburden 0.1.0","text":"Initial formal release package renamed netenergyequity emburden clarity CRAN compatibility. first release netenergyequity package, providing tools household energy burden analysis using Net Energy Return methodology.","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"core-functionality-0-1-0","dir":"Changelog","previous_headings":"Package Release","what":"Core Functionality","title":"emburden 0.1.0","text":"energy_burden_func() - Calculate energy burden (S/G) ner_func() - Calculate Net Energy Return (Nh) eroi_func() - Calculate Energy Return Investment dear_func() - Calculate Disposable Energy-Adjusted Resources calculate_weighted_metrics() - Weighted aggregation proper Nh methodology Automatic poverty rate calculations specified thresholds Support grouped analysis geographic/demographic categories to_percent(), to_dollar(), to_big() - Publication-ready formatting to_million(), to_billion_dollar() - Compact number formats colorize() - Output-aware color formatting R Markdown","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"package-structure-0-1-0","dir":"Changelog","previous_headings":"Package Release","what":"Package Structure","title":"emburden 0.1.0","text":"Separated package code (R/) analysis scripts (analysis/) Comprehensive documentation roxygen2 Test suite testthat Example analysis scripts NC electric utilities","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"known-issues-0-1-0","dir":"Changelog","previous_headings":"Package Release","what":"Known Issues","title":"emburden 0.1.0","text":"roxygen2 documentation generation requires manual NAMESPACE now Large data files (1.1GB+) included package distribution analysis scripts need updating use package functions","code":""},{"path":"https://ericscheier.github.io/emburden/news/index.html","id":"future-plans-0-1-0","dir":"Changelog","previous_headings":"Package Release","what":"Future Plans","title":"emburden 0.1.0","text":"Add vignettes demonstrating methodology Setup pkgdown website Configure GitHub Actions CI/CD Consider CRAN submission Create companion data package external data hosting solution","code":""}]
