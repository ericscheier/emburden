<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • emburden</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">emburden</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/methodology.html">Methodology</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/jss-emburden.html">JSS Package Manuscript</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ericscheier/emburden"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ericscheier/emburden/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="emburden-030">emburden 0.3.0<a class="anchor" aria-label="anchor" href="#emburden-030"></a></h2>
<div class="section level3">
<h3 id="major-improvements-0-3-0">Major Improvements<a class="anchor" aria-label="anchor" href="#major-improvements-0-3-0"></a></h3>
<div class="section level4">
<h4 id="openei-data-pipeline-fix-critical-0-3-0">OpenEI Data Pipeline Fix (Critical)<a class="anchor" aria-label="anchor" href="#openei-data-pipeline-fix-critical-0-3-0"></a></h4>
<ul><li>
<strong>Fixed critical bug</strong> where MVP demo <code>compare_energy_burden('fpl', 'NC', 'income_bracket')</code> failed on fresh installs
<ul><li>Root cause: Raw OpenEI 2022 FPL data wasn’t being processed correctly</li>
<li>OpenEI data uses period-based columns (<code>HINCP.UNITS</code>) not asterisk-based (<code>HINCP*UNITS</code>)</li>
<li>Raw data has ~588k rows (one per housing characteristic combination) requiring aggregation</li>
</ul></li>
<li>
<strong>New data processing pipeline</strong>:
<ul><li>Added <code><a href="../reference/aggregate_cohort_data.html">aggregate_cohort_data()</a></code> function to aggregate raw data by census tract × income bracket</li>
<li>Updated detection logic to recognize both <code>.UNITS</code> and <code>*UNITS</code> column formats</li>
<li>Enhanced <code><a href="../reference/standardize_cohort_columns.html">standardize_cohort_columns()</a></code> to handle both <code>FPL150</code> (2022) and <code>FPL15</code> (2018)</li>
<li>Reduces 588k rows → ~3.6k cohort records for NC</li>
</ul></li>
<li>
<strong>Result</strong>: Fresh installations now work perfectly - download from OpenEI → aggregate → standardize → ready!</li>
</ul></div>
<div class="section level4">
<h4 id="orange-county-sample-data-0-3-0">Orange County Sample Data<a class="anchor" aria-label="anchor" href="#orange-county-sample-data-0-3-0"></a></h4>
<ul><li>
<strong>NEW</strong>: Bundled sample data for instant demos and testing (94 KB)
<ul><li>
<code>data(orange_county_sample)</code> - No download required!</li>
<li>Includes 4 datasets: <code>fpl_2018</code>, <code>fpl_2022</code>, <code>ami_2018</code>, <code>ami_2022</code>
</li>
<li>749 records across 42 census tracts (Orange County, NC)</li>
<li>Perfect for vignettes, examples, and quick analysis</li>
<li>Shows real data: 16.3% energy burden for lowest income vs 1.0% for highest</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="package-infrastructure-0-3-0">Package Infrastructure<a class="anchor" aria-label="anchor" href="#package-infrastructure-0-3-0"></a></h4>
<ul><li>
<strong>Renamed all internal references</strong>: <code>emrgi</code> → <code>emburden</code> for consistency
<ul><li>
<code>find_emrgi_db()</code> → <code><a href="../reference/find_emburden_db.html">find_emburden_db()</a></code>
</li>
<li>Database filename: <code>emrgi_db.sqlite</code> → <code>emburden_db.sqlite</code>
</li>
</ul></li>
<li>
<strong>Release automation</strong>:
<ul><li>Added <code>.dev/RELEASE-PROCESS.md</code> - Comprehensive release workflow guide</li>
<li>Added <code>.dev/create-release-tag.R</code> - Automated release tagging script</li>
</ul></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="documentation-0-3-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-3-0"></a></h3>
<ul><li>Updated README with Orange County sample data section</li>
<li>Added comprehensive documentation for <code>orange_county_sample</code>
</li>
<li>All examples now work out of the box with bundled sample data</li>
</ul></div>
<div class="section level3">
<h3 id="testing-0-3-0">Testing<a class="anchor" aria-label="anchor" href="#testing-0-3-0"></a></h3>
<ul><li>All 494 tests pass</li>
<li>Verified OpenEI download and processing pipeline with real data</li>
<li>Tested sample data access and analysis</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="emburden-020">emburden 0.2.0<a class="anchor" aria-label="anchor" href="#emburden-020"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<div class="section level4">
<h4 id="jss-manuscript-vignette-0-2-0">JSS Manuscript Vignette<a class="anchor" aria-label="anchor" href="#jss-manuscript-vignette-0-2-0"></a></h4>
<ul><li>Added Journal of Statistical Software (JSS) manuscript as package vignette
<ul><li>
<code>vignettes/jss-emburden.Rmd</code> - Complete JSS article format</li>
<li>Demonstrates package usage with reproducible examples</li>
<li>Includes bibliography and proper JSS formatting</li>
<li>Test suite ensures vignette builds correctly in CI</li>
</ul></li>
<li>Created manuscript development infrastructure
<ul><li>
<code>research/manuscripts/jss-draft/</code> - LaTeX build output</li>
<li>
<code>research/manuscripts/build-jss.R</code> - Build script for PDF generation</li>
<li>Separate from vignettes for flexible editing workflow</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhanced-temporal-comparison-0-2-0">Enhanced Temporal Comparison<a class="anchor" aria-label="anchor" href="#enhanced-temporal-comparison-0-2-0"></a></h4>
<ul><li>Prominently featured <code><a href="../reference/compare_energy_burden.html">compare_energy_burden()</a></code> function across all documentation
<ul><li>README now includes temporal comparison section (Example 5)</li>
<li>Getting Started vignette has comprehensive temporal comparison section</li>
<li>JSS vignette demonstrates function instead of manual calculations</li>
<li>Replaces 37-line manual comparison with elegant 12-line function call</li>
</ul></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="bug-fixes-0-2-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-0"></a></h3>
<ul><li>Fixed FPL (Federal Poverty Line) data loading (<a href="https://github.com/ericscheier/emburden/issues/15" class="external-link">#15</a>)
<ul><li>Added validation to skip files with missing or all-NA <code>income_bracket</code> columns</li>
<li>Loader now properly falls through to raw OpenEI files with complete data</li>
<li>Prevents “Element <code>income_bracket</code> doesn’t exist” errors</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-improvements-0-2-0">Documentation Improvements<a class="anchor" aria-label="anchor" href="#documentation-improvements-0-2-0"></a></h3>
<ul><li>Emphasized <code><a href="../reference/compare_energy_burden.html">compare_energy_burden()</a></code> usage across 7 files
<ul><li>
<code>README.md</code> - Added temporal comparison section</li>
<li>
<code>vignettes/jss-emburden.Rmd</code> - Replaced manual code with function call</li>
<li>
<code>vignettes/getting-started.Rmd</code> - Added comprehensive section</li>
<li>
<code>analysis/scripts/nc_comparison_for_email.R</code> - Complete rewrite (179→144 lines)</li>
<li>
<code>data-raw/README.md</code> - Fixed function references</li>
<li>
<code>research/manuscripts/jss-draft/jss-emburden.Rmd</code> - Updated examples</li>
</ul></li>
<li>Added pkgdown configuration for JSS vignette
<ul><li>Vignette appears in website navigation</li>
<li>Organized under “Package Documentation” section</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="infrastructure-0-2-0">Infrastructure<a class="anchor" aria-label="anchor" href="#infrastructure-0-2-0"></a></h3>
<ul><li>Added pre-commit hook for running package tests
<ul><li>
<code>.git/hooks/pre-commit</code> - Runs all 238 tests before each commit</li>
<li>Prevents committing broken code</li>
<li>Can be bypassed with <code>--no-verify</code> if needed</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="internal-changes-0-2-0">Internal Changes<a class="anchor" aria-label="anchor" href="#internal-changes-0-2-0"></a></h3>
<ul><li>Improved data validation in <code><a href="../reference/load_cohort_data.html">load_cohort_data()</a></code>
<ul><li>Better handling of incomplete processed CSV files</li>
<li>More informative verbose messaging</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="emburden-011">emburden 0.1.1<a class="anchor" aria-label="anchor" href="#emburden-011"></a></h2>
<div class="section level3">
<h3 id="documentation-and-infrastructure-improvements-0-1-1">Documentation and Infrastructure Improvements<a class="anchor" aria-label="anchor" href="#documentation-and-infrastructure-improvements-0-1-1"></a></h3>
<p>This patch release improves documentation accessibility and workflow infrastructure, with no code changes.</p>
<div class="section level4">
<h4 id="documentation-0-1-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-1-1"></a></h4>
<ul><li>Improved README accessibility and tone
<ul><li>Simplified technical language with plain-language explanations</li>
<li>Replaced prescriptive language (“WRONG”, “NEVER”) with educational tone (“Recommended”, “Note”)</li>
<li>Added concrete examples explaining why simple averaging of ratios fails</li>
</ul></li>
<li>Added complete Nature Communications citation
<ul><li>Scheier, E., &amp; Kittner, N. (2022). A measurement strategy to address disparities across household energy burdens</li>
<li>Includes BibTeX format for easy reference</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="infrastructure-0-1-1">Infrastructure<a class="anchor" aria-label="anchor" href="#infrastructure-0-1-1"></a></h4>
<ul><li>Changed git author in publish-to-public workflow from “GitHub Actions Bot” to “Eric Scheier”
<ul><li>Automated commits now appear as maintainer commits</li>
</ul></li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="emburden-010">emburden 0.1.0<a class="anchor" aria-label="anchor" href="#emburden-010"></a></h2>
<div class="section level3">
<h3 id="package-release-0-1-0">Package Release<a class="anchor" aria-label="anchor" href="#package-release-0-1-0"></a></h3>
<p>Initial formal release with package renamed from <code>netenergyequity</code> to <code>emburden</code> for clarity and CRAN compatibility.</p>
<p>This is the first release of the netenergyequity package, providing tools for household energy burden analysis using Net Energy Return methodology.</p>
<div class="section level4">
<h4 id="core-functionality-0-1-0">Core Functionality<a class="anchor" aria-label="anchor" href="#core-functionality-0-1-0"></a></h4>
<ul><li>Energy metric calculations
<ul><li>
<code><a href="../reference/energy_burden_func.html">energy_burden_func()</a></code> - Calculate energy burden (S/G)</li>
<li>
<code><a href="../reference/ner_func.html">ner_func()</a></code> - Calculate Net Energy Return (Nh)</li>
<li>
<code><a href="../reference/eroi_func.html">eroi_func()</a></code> - Calculate Energy Return on Investment</li>
<li>
<code><a href="../reference/dear_func.html">dear_func()</a></code> - Calculate Disposable Energy-Adjusted Resources</li>
</ul></li>
<li>Statistical analysis
<ul><li>
<code><a href="../reference/calculate_weighted_metrics.html">calculate_weighted_metrics()</a></code> - Weighted aggregation with proper Nh methodology</li>
<li>Automatic poverty rate calculations below specified thresholds</li>
<li>Support for grouped analysis by geographic/demographic categories</li>
</ul></li>
<li>Formatting utilities
<ul><li>
<code><a href="../reference/to_percent.html">to_percent()</a></code>, <code><a href="../reference/to_dollar.html">to_dollar()</a></code>, <code><a href="../reference/to_big.html">to_big()</a></code> - Publication-ready formatting</li>
<li>
<code><a href="../reference/to_million.html">to_million()</a></code>, <code><a href="../reference/to_billion_dollar.html">to_billion_dollar()</a></code> - Compact number formats</li>
<li>
<code><a href="../reference/colorize.html">colorize()</a></code> - Output-aware color formatting for R Markdown</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="package-structure-0-1-0">Package Structure<a class="anchor" aria-label="anchor" href="#package-structure-0-1-0"></a></h4>
<ul><li>Separated package code (<code>R/</code>) from analysis scripts (<code>analysis/</code>)</li>
<li>Comprehensive documentation with roxygen2</li>
<li>Test suite with testthat</li>
<li>Example analysis scripts for NC electric utilities</li>
</ul></div>
<div class="section level4">
<h4 id="known-issues-0-1-0">Known Issues<a class="anchor" aria-label="anchor" href="#known-issues-0-1-0"></a></h4>
<ul><li>roxygen2 documentation generation requires manual NAMESPACE for now</li>
<li>Large data files (1.1GB+) not included in package distribution</li>
<li>Some analysis scripts need updating to use package functions</li>
</ul></div>
<div class="section level4">
<h4 id="future-plans-0-1-0">Future Plans<a class="anchor" aria-label="anchor" href="#future-plans-0-1-0"></a></h4>
<ul><li>Add vignettes demonstrating methodology</li>
<li>Setup pkgdown website</li>
<li>Configure GitHub Actions for CI/CD</li>
<li>Consider CRAN submission</li>
<li>Create companion data package or external data hosting solution</li>
</ul></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Scheier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

